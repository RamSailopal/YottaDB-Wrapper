<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>10. Utility Routines &mdash; Programmer&#39;s Guide  documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="11. Integrating External Routines" href="extrout.html" />
    <link rel="prev" title="9. Input/Output Processing" href="ioproc.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html">
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
	  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
		      <input type="text" name="q" placeholder="Search" />
		          <input type="hidden" name="check_keywords" value="yes" />
			      <input type="hidden" name="area" value="default" />
			        </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference external" href="https://yottadb.com/resources/documentation">Main YottaDB Documentation Page</a></li>
<li class="toctree-l1"><a class="reference internal" href="man.html">About this Manual</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">1. About YottaDB</a></li>
<li class="toctree-l1"><a class="reference internal" href="langext.html">2. YottaDB Language Extensions</a></li>
<li class="toctree-l1"><a class="reference internal" href="devcycle.html">3. Development Cycle</a></li>
<li class="toctree-l1"><a class="reference internal" href="opdebug.html">4. Operating and Debugging in Direct Mode</a></li>
<li class="toctree-l1"><a class="reference internal" href="langfeat.html">5. General Language Features of M</a></li>
<li class="toctree-l1"><a class="reference internal" href="commands.html">6. Commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="functions.html">7. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="isv.html">8. Intrinsic Special Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="ioproc.html">9. Input/Output Processing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="utility.html#">10. Utility Routines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="utility.html#using-the-utilities">Using the Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="utility.html#date-and-time-utilities">Date and Time Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="utility.html#d">%D</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#date">%DATE</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#h">%H</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#t">%T</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#ti">%TI</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#to">%TO</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="utility.html#conversion-utilities">Conversion Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="utility.html#dh">%DH</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#do">%DO</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#hd">%HD</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#ho">%HO</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#lcase">%LCASE</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#od">%OD</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#oh">%OH</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#ucase">%UCASE</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="utility.html#mathematic-utilities">Mathematic Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="utility.html#exp">%EXP</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#sqroot">%SQROOT</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="utility.html#string-utilities">String Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="utility.html#mpiece">%MPIECE</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#randstr">%RANDSTR</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#trim">%TRIM</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="utility.html#global-utilities">Global Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="utility.html#g">%G</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#gc">%GC</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#gce">%GCE</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#gd">%GD</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#ged">%GED</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#gi">%GI</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#go">%GO</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#gse">%GSE</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#gsel">%GSEL</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#zshowvtolcl">%ZSHOWVTOLCL</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="utility.html#routine-utilities">Routine Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="utility.html#fl">%FL</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#rce">%RCE</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#rd">%RD</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#ri">%RI</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#ro">%RO</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#rse">%RSE</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#rsel">%RSEL</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="utility.html#internationalization-utilities">Internationalization Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="utility.html#system-management-utilities">System Management Utilities</a><ul>
<li class="toctree-l3"><a class="reference internal" href="utility.html#dsewrap">%DSEWRAP</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#dumpfhead">%DUMPFHEAD</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#freecnt">%FREECNT</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#peekbyname">%PEEKBYNAME()</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#xcmd">%XCMD</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#ydbprocstuckexec">%YDBPROCSTUCKEXEC</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#ygblstat">%YGBLSTAT()</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="utility.html#utf-8-mode-utility-routines">UTF-8 Mode Utility Routines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="utility.html#utf2hex">%UTF2HEX</a></li>
<li class="toctree-l3"><a class="reference internal" href="utility.html#hex2utf">%HEX2UTF</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="utility.html#utilities-summary-table">Utilities Summary Table</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="extrout.html">11. Integrating External Routines</a></li>
<li class="toctree-l1"><a class="reference internal" href="internatn.html">12. Internationalization</a></li>
<li class="toctree-l1"><a class="reference internal" href="errproc.html">13. Error Processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="triggers.html">14. Triggers</a></li>
<li class="toctree-l1"><a class="reference internal" href="encrypt.html">15. Database Encryption Extensions to the YottaDB External Interface</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix.html">Appendix A: M Coding Standards - Do’s and Don’ts</a></li>
<li class="toctree-l1"><a class="reference internal" href="LICENSE.html">LICENSE</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Programmer's Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>10. Utility Routines</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="ioproc.html" class="btn btn-neutral float-left" title="9. Input/Output Processing" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="extrout.html" class="btn btn-neutral float-right" title="11. Integrating External Routines" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="utility-routines">
<span id="index-0"></span><h1><a class="toc-backref" href="utility.html#id2">10. Utility Routines</a><a class="headerlink" href="utility.html#utility-routines" title="Permalink to this heading">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="utility.html#utility-routines" id="id2">10. Utility Routines</a></p>
<ul>
<li><p><a class="reference internal" href="utility.html#using-the-utilities" id="id3">Using the Utilities</a></p></li>
<li><p><a class="reference internal" href="utility.html#date-and-time-utilities" id="id4">Date and Time Utilities</a></p>
<ul>
<li><p><a class="reference internal" href="utility.html#d" id="id5">%D</a></p></li>
<li><p><a class="reference internal" href="utility.html#date" id="id6">%DATE</a></p></li>
<li><p><a class="reference internal" href="utility.html#h" id="id7">%H</a></p></li>
<li><p><a class="reference internal" href="utility.html#t" id="id8">%T</a></p></li>
<li><p><a class="reference internal" href="utility.html#ti" id="id9">%TI</a></p></li>
<li><p><a class="reference internal" href="utility.html#to" id="id10">%TO</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="utility.html#conversion-utilities" id="id11">Conversion Utilities</a></p>
<ul>
<li><p><a class="reference internal" href="utility.html#dh" id="id12">%DH</a></p></li>
<li><p><a class="reference internal" href="utility.html#do" id="id13">%DO</a></p></li>
<li><p><a class="reference internal" href="utility.html#hd" id="id14">%HD</a></p></li>
<li><p><a class="reference internal" href="utility.html#ho" id="id15">%HO</a></p></li>
<li><p><a class="reference internal" href="utility.html#lcase" id="id16">%LCASE</a></p></li>
<li><p><a class="reference internal" href="utility.html#od" id="id17">%OD</a></p></li>
<li><p><a class="reference internal" href="utility.html#oh" id="id18">%OH</a></p></li>
<li><p><a class="reference internal" href="utility.html#ucase" id="id19">%UCASE</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="utility.html#mathematic-utilities" id="id20">Mathematic Utilities</a></p>
<ul>
<li><p><a class="reference internal" href="utility.html#exp" id="id21">%EXP</a></p></li>
<li><p><a class="reference internal" href="utility.html#sqroot" id="id22">%SQROOT</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="utility.html#string-utilities" id="id23">String Utilities</a></p>
<ul>
<li><p><a class="reference internal" href="utility.html#mpiece" id="id24">%MPIECE</a></p></li>
<li><p><a class="reference internal" href="utility.html#randstr" id="id25">%RANDSTR</a></p></li>
<li><p><a class="reference internal" href="utility.html#trim" id="id26">%TRIM</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="utility.html#global-utilities" id="id27">Global Utilities</a></p>
<ul>
<li><p><a class="reference internal" href="utility.html#g" id="id28">%G</a></p></li>
<li><p><a class="reference internal" href="utility.html#gc" id="id29">%GC</a></p></li>
<li><p><a class="reference internal" href="utility.html#gce" id="id30">%GCE</a></p></li>
<li><p><a class="reference internal" href="utility.html#gd" id="id31">%GD</a></p></li>
<li><p><a class="reference internal" href="utility.html#ged" id="id32">%GED</a></p></li>
<li><p><a class="reference internal" href="utility.html#gi" id="id33">%GI</a></p></li>
<li><p><a class="reference internal" href="utility.html#go" id="id34">%GO</a></p></li>
<li><p><a class="reference internal" href="utility.html#gse" id="id35">%GSE</a></p></li>
<li><p><a class="reference internal" href="utility.html#gsel" id="id36">%GSEL</a></p></li>
<li><p><a class="reference internal" href="utility.html#zshowvtolcl" id="id37">%ZSHOWVTOLCL</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="utility.html#routine-utilities" id="id38">Routine Utilities</a></p>
<ul>
<li><p><a class="reference internal" href="utility.html#fl" id="id39">%FL</a></p></li>
<li><p><a class="reference internal" href="utility.html#rce" id="id40">%RCE</a></p></li>
<li><p><a class="reference internal" href="utility.html#rd" id="id41">%RD</a></p></li>
<li><p><a class="reference internal" href="utility.html#ri" id="id42">%RI</a></p></li>
<li><p><a class="reference internal" href="utility.html#ro" id="id43">%RO</a></p></li>
<li><p><a class="reference internal" href="utility.html#rse" id="id44">%RSE</a></p></li>
<li><p><a class="reference internal" href="utility.html#rsel" id="id45">%RSEL</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="utility.html#internationalization-utilities" id="id46">Internationalization Utilities</a></p></li>
<li><p><a class="reference internal" href="utility.html#system-management-utilities" id="id47">System Management Utilities</a></p>
<ul>
<li><p><a class="reference internal" href="utility.html#dsewrap" id="id48">%DSEWRAP</a></p></li>
<li><p><a class="reference internal" href="utility.html#dumpfhead" id="id49">%DUMPFHEAD</a></p></li>
<li><p><a class="reference internal" href="utility.html#freecnt" id="id50">%FREECNT</a></p></li>
<li><p><a class="reference internal" href="utility.html#peekbyname" id="id51">%PEEKBYNAME()</a></p></li>
<li><p><a class="reference internal" href="utility.html#xcmd" id="id52">%XCMD</a></p></li>
<li><p><a class="reference internal" href="utility.html#ydbprocstuckexec" id="id53">%YDBPROCSTUCKEXEC</a></p></li>
<li><p><a class="reference internal" href="utility.html#ygblstat" id="id54">%YGBLSTAT()</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="utility.html#utf-8-mode-utility-routines" id="id55">UTF-8 Mode Utility Routines</a></p>
<ul>
<li><p><a class="reference internal" href="utility.html#utf2hex" id="id56">%UTF2HEX</a></p></li>
<li><p><a class="reference internal" href="utility.html#hex2utf" id="id57">%HEX2UTF</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="utility.html#utilities-summary-table" id="id58">Utilities Summary Table</a></p></li>
</ul>
</li>
</ul>
</div>
<p>YottaDB provides library utilities to perform frequently used tasks, and to access frequently used information. Most of the utilities are for YottaDB programmers, but some provide tools for system administration and operation.</p>
<p>The YottaDB utilities fall into the following general categories:</p>
<ul class="simple">
<li><p>Date and time utilities</p></li>
<li><p>Conversion utilities</p></li>
<li><p>Mathematic utilities</p></li>
<li><p>Global utilities</p></li>
<li><p>Routine utilities</p></li>
<li><p>Internationalization utilities</p></li>
<li><p>System Management utilities</p></li>
<li><p>Unicode Utility Routines</p></li>
</ul>
<p>The YottaDB distribution includes the source files for these utilities. The default installation compiles them to produce object modules in the $ydb_dist distribution library.</p>
<p>You may wish to examine the utilities and include some of them in your programs if the programs access the function frequently or you may want to modify the utilities to better fit your particular needs. If you modify a utility, store your copy in a directory that precedes ydb_dist in the search list $ZROUTINES to prevent a new release of YottaDB from overwriting your copy.</p>
<section id="using-the-utilities">
<h2><a class="toc-backref" href="utility.html#id3">Using the Utilities</a><a class="headerlink" href="utility.html#using-the-utilities" title="Permalink to this heading">¶</a></h2>
<p>You can either use a utility in Direct Mode or include it in a source application program with one or more of the following formats.</p>
<ul class="simple">
<li><p>DO ^%UTILITYNAME</p></li>
<li><p>DO LABEL^%UTILITYNAME</p></li>
<li><p>$$FUNC^%UTILITYNAME[(para1,…)]</p></li>
</ul>
<p>Many utilities contain labels that invoke variations of the basic utility functionality. Some also provide the label FUNC to invoke an extrinsic function with optional or required parameters.</p>
<p>YottaDB passes input to non-extrinsic forms of the utilities interactively or by using “input” variables. YottaDB passes output from non-extrinsic forms of the utilities using “output” variables. For extrinsic entry points, the utilities receive input as parameters and pass output as the returned result. For other entry points, YottaDB uses predefined “input” and “output” variables to pass information. Some utilities interactively request user inputs and display their results. Each utility is described individually in this chapter where appropriate labels, input, and output variables are identified.</p>
<p>By convention, the utilities use upper-case variables for external input and output. Since M is case-sensitive, when an invocation uses a lower-case or misspelled variable name, the routine does not output the expected information. Instead, it supplies a default value, if one exists, or produces an error message.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET %ds<span class="o">=</span><span class="s2">&quot;11/22/2018&quot;</span>
YDB&gt;DO INT^%DATE
YDB&gt;ZWRITE
%DN<span class="o">=</span><span class="m">62047</span>
%ds<span class="o">=</span><span class="s2">&quot;11/22/2018&quot;</span>
</pre></div>
</div>
<p>This example sets the lowercase variable %ds to the date 11/22/2018. Since the %DATE routine expects the input to be provided in the uppercase %DS variable, it returns a default value in the output variable $DN. The default is the $HOROLOG format of the current date, which is 11/17/2018 in the example.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Utility programs written in M (such as %GO) run within yottadb processes and behave like any other code written in M. Encryption keys are required if the yottadb process accesses encrypted databases. A process running a utility program written in M that does not access encrypted databases (such as %RSEL) does not need encryption keys just to run the utility program.</p>
</div>
</section>
<section id="date-and-time-utilities">
<h2><a class="toc-backref" href="utility.html#id4">Date and Time Utilities</a><a class="headerlink" href="utility.html#date-and-time-utilities" title="Permalink to this heading">¶</a></h2>
<p>The date and time utilities are:</p>
<p>%D: Displays the current date using the [d]d-mmm-[yy]yy format.</p>
<p>%DATE: Converts input date to the $HOROLOG format.</p>
<p>%H: Converts date and time to and from $HOROLOG format.</p>
<p>%T: Displays the current time in [h]h:mm AM/PM format.</p>
<p>%TI: Converts time to $HOROLOG format.</p>
<p>%TO: Converts the current time from $HOROLOG format to [h]h:mm AM/PM format.</p>
<p>The “%” sign has been removed from the topic headings below, intentionally.</p>
<p>The Intrinsic Special Variable $ZDATEFORM interprets year inputs with two digits as described in the following table:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 21%" />
<col style="width: 53%" />
<col style="width: 26%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>$ZDATEFORM</p></th>
<th class="head"><p>INTERPRETATION OF 2 DIGIT YEAR</p></th>
<th class="head"><p>OUTPUT OF %D</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0:</p></td>
<td><p>20th century (1900 - 1999)</p></td>
<td><p>2 digits</p></td>
</tr>
<tr class="row-odd"><td><p>1:</p></td>
<td><p>current century (2000 - 2099)</p></td>
<td><p>4 digits</p></td>
</tr>
<tr class="row-even"><td><p>(1841-9999):</p></td>
<td><p>the next 99 years starting from $ZDATEFORM (x - x+99)</p></td>
<td><p>4 digits</p></td>
</tr>
<tr class="row-odd"><td><p>other:</p></td>
<td><p>current century (2000 - 2099)</p></td>
<td><p>4 digits</p></td>
</tr>
</tbody>
</table>
<p>Example:</p>
<p>If $ZDATEFORM is 1965, an input year of 70 would be interpreted as 1970, whereas an input year of 10 would be taken as 2010.</p>
<section id="d">
<span id="d-util"></span><h3><a class="toc-backref" href="utility.html#id5">%D</a><a class="headerlink" href="utility.html#d" title="Permalink to this heading">¶</a></h3>
<p>The %D utility displays the current date using the [d]d-mmm-[yy]yy format. If a routine uses this function repetitively, put the utility code directly into the M program.</p>
<p><strong>Utility Labels</strong></p>
<p>INT: Sets variable %DAT to current date.</p>
<p>FUNC[()]: Invokes an extrinsic function returning today’s date.</p>
<p><strong>Output Variables</strong></p>
<p>%DAT: Contains the current date.</p>
<p><strong>Examples of %D</strong></p>
<p>For the following examples, $ZDATEFORM is assumed to be one (1).</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%D
<span class="m">08</span>-FEB-2018
</pre></div>
</div>
<p>This example invokes %D in Direct Mode. Then %D displays the current date.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO INT^%D
YDB&gt;ZWRITE
%DAT<span class="o">=</span><span class="s2">&quot;08-FEB-2018&quot;</span>
</pre></div>
</div>
<p>This example invokes %D with the label INT (INT^%D). The variable %DAT contains the current date. ZWRITE displays the contents of the output variable.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;WRITE <span class="nv">$$</span>FUNC^%D
<span class="m">08</span>-FEB-2018
</pre></div>
</div>
<p>This example invokes %D as an extrinsic function with the label FUNC. $$FUNC^%D returns today’s date.</p>
</section>
<section id="date">
<span id="date-util"></span><h3><a class="toc-backref" href="utility.html#id6">%DATE</a><a class="headerlink" href="utility.html#date" title="Permalink to this heading">¶</a></h3>
<p>The %DATE utility converts an input date to the $HOROLOG format. The $HOROLOG format represents time as the number of days since December 31, 1840. The routine has entry points for interactive or non-interactive use.</p>
<p><strong>Utility Labels</strong></p>
<p>INT: Converts %DS input non-interactively (if defined), otherwise the current date.</p>
<p>FUNC(t): Invokes an extrinsic function returning $HOROLOG format of the argument.</p>
<p><strong>Prompts</strong></p>
<p>Date: Interactively requests a date for conversion to $HOROLOG format.</p>
<p><strong>Input Variables</strong></p>
<p>%DS: Contains input date; refer to %DATE Input Formats table.</p>
<p><strong>Output Variables</strong></p>
<p>%DN: Contains output date in $HOROLOG format</p>
<p><strong>DATE Input Formats Table</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 59%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Examples</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>DAYS</p></td>
<td><p>1 or 2 digits</p></td>
<td><p>1,01,24</p></td>
</tr>
<tr class="row-odd"><td><p>MONTHS</p></td>
<td><p>1 or 2 digits</p></td>
<td><p>3,03,12</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>Abbreviations accepted</p></td>
<td><p>MAR</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Numeric months precede days</p></td>
<td><p>1/5 is 5 Jan</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>Alpha months may precede or follow days</p></td>
<td><p>3 MAR or MAR 3</p></td>
</tr>
<tr class="row-odd"><td><p>YEARS</p></td>
<td><p>2 or 4 digits</p></td>
<td><p>11/22/98 or 11/22/2002</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>A missing year defaults to current year</p></td>
<td><p>11/22</p></td>
</tr>
<tr class="row-odd"><td><p>TODAY</p></td>
<td><p>Abbreviation Accepted</p></td>
<td><p>T[ODAY]</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>t+/- N. no. of days</p></td>
<td><p>t+1 or t-3</p></td>
</tr>
<tr class="row-odd"><td><p>TOMORROW</p></td>
<td><p>Abbreviation Accepted</p></td>
<td><p>TOM[ORROW]</p></td>
</tr>
<tr class="row-even"><td><p>YESTERDAY</p></td>
<td><p>Abbreviation Accepted</p></td>
<td><p>Y[ESTERDAY]</p></td>
</tr>
<tr class="row-odd"><td><p>NULL INPUT</p></td>
<td><p>Defaults to Today</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>DELIMITERS</p></td>
<td><p>All non-alphanumeric character(s) except the + or - offset</p></td>
<td><p>11/22/98 or 11 NOV 98 or 22 Nov,
2002 or 11-22-2002</p></td>
</tr>
</tbody>
</table>
<p><strong>Examples of %DATE</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%DATE
Date:
YDB&gt;ZWRITE
%DN<span class="o">=</span><span class="m">62047</span>
</pre></div>
</div>
<p>This example invokes %DATE at the YDB&gt; prompt. After pressing &lt;RETURN&gt; at the Date: prompt, %DATE converts today’s date (for example, 02/08/2018) to the $HOROLOG format. ZWRITE displays the contents of the output variable.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO INT^%DATE
YDB&gt;ZWRITE
%DN<span class="o">=</span><span class="m">59105</span>
</pre></div>
</div>
<p>This example invokes INT^%DATE, which converts the current date non-interactively into $HOROLOG format. ZWRITE displays the contents of the output variable.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET %DS<span class="o">=</span><span class="s2">&quot;02/08/2018&quot;</span>
YDB&gt;DO INT^%DATE
YDB&gt;ZWRITE
%DN<span class="o">=</span><span class="m">62019</span>
%DS<span class="o">=</span><span class="s2">&quot;02/08/2018&quot;</span>
</pre></div>
</div>
<p>This example sets the input variable %DS prior to invoking INT^%DATE, which converts that date non-interactively to $HOROLOG format.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;WRITE <span class="nv">$$</span>FUNC^%DATE<span class="o">(</span><span class="s2">&quot;02/08/2018&quot;</span><span class="o">)</span>
<span class="m">62010</span>
</pre></div>
</div>
<p>This example invokes %DATE with the label FUNC as an extrinsic function to convert an input date to $HOROLOG. If the invocation does not supply a date for $$FUNC^%DATE, FUNC converts the current date.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;WRITE <span class="nv">$ZDATEFORM</span>
<span class="m">1975</span>
YDB&gt;WRITE <span class="nv">$$</span>FUNC^%DATE<span class="o">(</span><span class="s2">&quot;10/20/80&quot;</span><span class="o">)</span>
<span class="m">51062</span>
YDB&gt;WRITE <span class="nv">$ZDATE</span><span class="o">(</span><span class="m">51062</span><span class="o">)</span>
<span class="m">10</span>/20/1980
YDB&gt;WRITE <span class="nv">$$</span>FUNC^%DATE<span class="o">(</span><span class="s2">&quot;10/20/10&quot;</span><span class="o">)</span>
<span class="m">62019</span>
YDB&gt;WRITE <span class="nv">$ZDATE</span><span class="o">(</span><span class="m">62019</span><span class="o">)</span>
<span class="m">10</span>/20/2010
</pre></div>
</div>
<p>This example shows the use of a year limit in $ZDATEFORM. Two digit years are interpreted to be in the interval (1975, 2074) since $ZDATEFORM is 1975; the input year “80” is interpreted as the year “1980” and “10” is interpreted as the year “2010”. The example invokes FUNC^%DATE to convert the input date to $HOROLOG format. $ZDATE() is used to convert the $HOROLOG format date to mm/dd/yyyy format.</p>
</section>
<section id="h">
<span id="h-util"></span><h3><a class="toc-backref" href="utility.html#id7">%H</a><a class="headerlink" href="utility.html#h" title="Permalink to this heading">¶</a></h3>
<p>The %H utility converts date and time to and from $HOROLOG format.</p>
<p><strong>Utility Labels</strong></p>
<p>%CDS: Converts %DT $HOROLOG input date to mm/dd/yyyy format.</p>
<p>%CTS: Converts %TM $HOROLOG input time to external format.</p>
<p>%CDN: Converts %DT input date to $HOROLOG format.</p>
<p>%CTN: Converts %TM input time to $HOROLOG format.</p>
<p>CDS(dt): Extrinsic entry that converts the $HOROLOG argument to external date format.</p>
<p>CTS(tm): Extrinsic entry that converts the $HOROLOG argument to external time format.</p>
<p>CDN(dt): Extrinsic entry that converts the argument to $HOROLOG format.</p>
<p>CTN(tm): Extrinsic entry that converts the argument to $HOROLOG format.</p>
<p><strong>Input Variables</strong></p>
<p>%DT: Contains input date in either $HOROLOG or mm/dd/[yy]yy format, depending on the format expected by the utility entry point.</p>
<p>%TM: Contains input time in either $HOROLOG or [h]h:mm:ss format, depending on the format expected by the utility entry point.</p>
<p><strong>Output Variables</strong></p>
<p>%DAT: Contains converted output date</p>
<p>%TIM: Contains converted output time</p>
<p><strong>Examples of %H</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET %DT<span class="o">=</span>+<span class="nv">$H</span> DO %CDS^%H
YDB&gt;ZWRITE
%DAT<span class="o">=</span><span class="s2">&quot;10/20/2010&quot;</span>
%DT<span class="o">=</span><span class="m">62047</span>
</pre></div>
</div>
<p>This example sets %DT to the current date in $HOROLOG format and converts it to mm/dd/yyyy format by invoking %H at the label %CDS. %H returns the converted date in the variable %DAT. ZWRITE displays the contents of the variables.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET %DT<span class="o">=</span><span class="s2">&quot;10/20/2002&quot;</span> DO %CDN^%H
YDB&gt;ZWRITE
%DAT<span class="o">=</span><span class="m">59097</span>
%DT<span class="o">=</span><span class="s2">&quot;10/20/2002&quot;</span>
</pre></div>
</div>
<p>This example sets the variable %DT to a date in mm/dd/yyyy format and invokes %H at the label %CDN. %H returns the converted date in the variable %DAT. ZWRITE displays the contents of the variables.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET %TM<span class="o">=</span><span class="nv">$P</span><span class="o">(</span><span class="nv">$H</span>,<span class="s2">&quot;,&quot;</span>,2<span class="o">)</span> DO %CTS^%H
YDB&gt;ZWRITE
%TIM<span class="o">=</span><span class="s2">&quot;17:41:18&quot;</span>
%TM<span class="o">=</span><span class="m">63678</span>
</pre></div>
</div>
<p>This example sets the variable %TM to the current time in $HOROLOG format using a $PIECE() function to return only those digits of the $HOROLOG string that represent the time. The example then invokes %H at the label %CTS. %H returns the converted time in the variable %TIM. ZWRITE displays the contents of the variables.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET %TM<span class="o">=</span><span class="s2">&quot;17:41:18&quot;</span> DO %CTN^%H
YDB&gt;ZWRITE
%TIM<span class="o">=</span><span class="m">63678</span>
%TM<span class="o">=</span><span class="s2">&quot;17:41:18&quot;</span>
</pre></div>
</div>
<p>This example sets the variable %TM to a time in hh:mm:ss format, and invokes %H at the label %CTN. %H returns the converted time in the variable %TIM. ZWRITE displays the contents of the variables.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;WRITE <span class="nv">$$</span>CDS^%H<span class="o">(</span><span class="m">62019</span><span class="o">)</span>
<span class="m">11</span>/17/2010
</pre></div>
</div>
<p>This invokes CDS^%H as an extrinsic function to convert the external argument to external date format.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;WRITE <span class="nv">$ZDATEFORM</span>
<span class="m">1980</span>
YDB&gt;WRITE <span class="nv">$$</span>CDN^%H<span class="o">(</span><span class="s2">&quot;10/20/02&quot;</span><span class="o">)</span>
<span class="m">59097</span>
YDB&gt;WRITE <span class="nv">$ZDATE</span><span class="o">(</span><span class="m">59097</span><span class="o">)</span>
<span class="m">10</span>/20/2002
YDB&gt;WRITE <span class="nv">$$</span>CDN^%H<span class="o">(</span><span class="s2">&quot;10/20/92&quot;</span><span class="o">)</span>
<span class="m">55445</span>
YDB&gt;WRITE <span class="nv">$ZDATE</span><span class="o">(</span><span class="m">55445</span><span class="o">)</span>
<span class="m">10</span>/20/1992
</pre></div>
</div>
<p>This example shows the use of a year limit in $ZDATEFORM. Two digit years are interpreted to be in the interval of 1980 - 2079; since $ZDATEFORM is 1980, the input year “02” is interpreted as “2002” and “92” is interpreted as “1992”. This example invokes CDN^%H to convert the argument in mm/dd/yy format to $HOROLOG format. $ZDATE() is used to convert the $HOROLOG format date to mm/dd/yyyy format.</p>
</section>
<section id="t">
<span id="t-util"></span><h3><a class="toc-backref" href="utility.html#id8">%T</a><a class="headerlink" href="utility.html#t" title="Permalink to this heading">¶</a></h3>
<p>The %T utility displays the current time in [h]h:mm AM/PM. If a routine uses this function repetitively, put the utility code directly into the M program.</p>
<p><strong>Utility Labels</strong></p>
<p>INT: Sets %TIM to current time in [h]h:mm AM/PM format.</p>
<p>FUNC[()]: Invokes an extrinsic function returning the current time.</p>
<p><strong>Output Variables</strong></p>
<p>%TIM: Contains current time in [h]h:mm AM/PM format.</p>
<p><strong>Examples of %T</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%T
<span class="m">8</span>:30 AM
</pre></div>
</div>
<p>This example invokes %T, which prints the current time and does not set %TIM.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO INT^%T
YDB&gt;ZWRITE
%TIM<span class="o">=</span><span class="s2">&quot;8:30 AM&quot;</span>
</pre></div>
</div>
<p>This example invokes INT^%T, which sets the variable %TIM to the current time. ZWRITE displays the contents of the variable.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;WRITE <span class="nv">$$</span>FUNC^%T
<span class="m">8</span>:30 AM
</pre></div>
</div>
<p>This example invokes FUNC as an extrinsic function, which returns the current time.</p>
</section>
<section id="ti">
<span id="ti-util"></span><h3><a class="toc-backref" href="utility.html#id9">%TI</a><a class="headerlink" href="utility.html#ti" title="Permalink to this heading">¶</a></h3>
<p>The %TI utility converts time to $HOROLOG format. The $HOROLOG format represents time as the number of seconds since midnight. %TI returns the converted time in the variable %TN. The routine has entry points for interactive or non-interactive use.</p>
<p><strong>Utility Labels</strong></p>
<p>INT Non-interactively converts %TS to $HOROLOG format; if %TS is not defined, then current time is converted.</p>
<p>FUNC[(ts)] Invokes an extrinsic function returning $HOROLOG format of the argument, or if no argument, the $HOROLOG format of the current time.</p>
<p><strong>Prompts</strong></p>
<p>Time: Requests time in [h]h:mm:ss format to convert to $HOROLOG format.</p>
<p><strong>Input Variables</strong></p>
<p>%TS Contains input time.</p>
<p>The following table summarizes input formats accepted by %TI.</p>
<p><strong>%TI Input Formats</strong></p>
<table class="docutils align-default">
<colgroup>
<col style="width: 22%" />
<col style="width: 47%" />
<col style="width: 31%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Element</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Examples</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>HOURS</p></td>
<td><p>1 or 2 digits</p></td>
<td><p>3,03,12</p></td>
</tr>
<tr class="row-odd"><td><p>MINUTES</p></td>
<td><p>2 digits</p></td>
<td><p>05,36</p></td>
</tr>
<tr class="row-even"><td><p>AM or PM</p></td>
<td><p>AM or PM required</p></td>
<td><p>9:00 AM/am or 9:00 PM/pm</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>Abbreviation accepted</p></td>
<td><p>9:00 A/a or 9:00 P/p</p></td>
</tr>
<tr class="row-even"><td><p>NOON</p></td>
<td><p>Abbreviation accepted</p></td>
<td><p>N[OON]</p></td>
</tr>
<tr class="row-odd"><td><p>MIDNIGHT or MIDNITE</p></td>
<td><p>Abbreviation accepted</p></td>
<td><p>M[IDNIGHT]/m[idnight] or
M[IDNITE]/m[idnite]</p></td>
</tr>
<tr class="row-even"><td><p>MILITARY</p></td>
<td><p>No punctuation (hhmm)</p></td>
<td><p>1900, 0830</p></td>
</tr>
<tr class="row-odd"><td><p>NULL INPUT</p></td>
<td><p>Defaults to current time</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>DELIMITERS</p></td>
<td><p>Colon between hours and minutes</p></td>
<td><p>3:00</p></td>
</tr>
</tbody>
</table>
<p><strong>Output Variables</strong></p>
<p>%TN: Contains output time in $HOROLOG format</p>
<p><strong>Examples of %TI</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%TI
Time: <span class="m">4</span>:02 PM
YDB&gt;ZWRITE
%TN<span class="o">=</span><span class="m">57720</span>
</pre></div>
</div>
<p>This example invokes %TI, which prompts for an input time. Press &lt;RETURN&gt; to convert the current time. ZWRITE displays the contents of the output variable.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;ZWRITE
YDB&gt;DO INT^%TI
YDB&gt;ZWRITE
%TN<span class="o">=</span><span class="m">40954</span>
</pre></div>
</div>
<p>This example invokes INT^%TI to convert the current time non-interactively. ZWRITE displays the contents of the output variable %TN.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET %TS<span class="o">=</span><span class="s2">&quot;8:30AM&quot;</span>
YDB&gt;DO INT^%TI
YDB&gt;ZWRITE
%TN<span class="o">=</span><span class="m">30600</span>
%TS<span class="o">=</span><span class="s2">&quot;8:30AM&quot;</span>
</pre></div>
</div>
<p>This example sets the variable %TS prior to invoking INT^%TI. %TI uses %TS as the input time. ZWRITE displays the contents of the variables.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;WRITE <span class="nv">$$</span>FUNC^%TI<span class="o">(</span><span class="s2">&quot;8:30AM&quot;</span><span class="o">)</span>
<span class="m">30600</span>
</pre></div>
</div>
<p>This example invokes %TI as an extrinsic function to convert the supplied time to $HOROLOG format. If there is no argument (i.e., $$FUNC^%TI), %TI converts the current time.</p>
</section>
<section id="to">
<span id="to-util"></span><h3><a class="toc-backref" href="utility.html#id10">%TO</a><a class="headerlink" href="utility.html#to" title="Permalink to this heading">¶</a></h3>
<p>The %TO utility converts the input time from $HOROLOG format to [h]h:mm AM/PM format. Put the utility code directly into the M program if the routine uses this function repetitively.</p>
<p><strong>Utility Labels</strong></p>
<p>INT: Converts non-interactively %TS or if %TS is not defined, the current time to [h]h:mm AM/PM format.</p>
<p><strong>Input Variables</strong></p>
<p>%TN: Contains input time in $HOROLOG format.</p>
<p><strong>Output Variables</strong></p>
<p>%TS: Contains output time in [h]h:mm AM/PM format.</p>
<p><strong>Examples of %TO</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO INT^%TI,^%TO
YDB&gt;ZWRITE
%TN<span class="o">=</span><span class="m">62074</span>
%TS<span class="o">=</span><span class="s2">&quot;5:14 PM&quot;</span>
</pre></div>
</div>
<p>This example invokes INT^%TI to set %TN to the current time and invokes %TO to convert the time contained in %TN to the [h]h:mm AM/PM format. %TO returns the converted time in the variable %TS. ZWRITE displays the contents of the variables.</p>
</section>
</section>
<section id="conversion-utilities">
<h2><a class="toc-backref" href="utility.html#id11">Conversion Utilities</a><a class="headerlink" href="utility.html#conversion-utilities" title="Permalink to this heading">¶</a></h2>
<p>The conversion utilities are:</p>
<p>%DH: Decimal to hexadecimal conversion.</p>
<p>%DO: Decimal to octal conversion.</p>
<p>%HD: Hexadecimal to decimal conversion.</p>
<p>%HO: Hexadecimal to octal conversion.</p>
<p>%LCASE: Converts a string to all lower case.</p>
<p>%OD: Octal to decimal conversion.</p>
<p>%OH: Octal to hexadecimal conversion.</p>
<p>%UCASE: Converts a string to all upper case.</p>
<p>The conversion utilities can be invoked as extrinsic functions.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All base conversion utility programs (%DH, %DO, %HD, %HO, %OD, and %OH) convert input until the first invalid character and then ignore the remaining characters.</p>
</div>
<section id="dh">
<span id="dh-util"></span><h3><a class="toc-backref" href="utility.html#id12">%DH</a><a class="headerlink" href="utility.html#dh" title="Permalink to this heading">¶</a></h3>
<p>The %DH utility converts numeric values from decimal to hexadecimal. %DH defaults the length of its output to eight digits. However, the input variable %DL overrides the default and controls the length of the output. The routine has entry points for interactive or non-interactive use.</p>
<p><strong>Utility Labels</strong></p>
<p>INT: Converts interactively entered decimal number to hexadecimal number with the number of digits specified.</p>
<p>FUNC(d[,l]): Invokes %DH as an extrinsic function returning the hexadecimal equivalent of the argument.</p>
<p><strong>Input Variables</strong></p>
<p>%DH: As input, contains input decimal number.</p>
<p>%DL: Specifies how many digits appear in the output, defaults to eight.</p>
<p><strong>Prompts</strong></p>
<p>Decimal: Requests a decimal number for conversion to hexadecimal.</p>
<p>Digits: Requests the length of the output in digits; eight by default.</p>
<p><strong>Output Variables</strong></p>
<p>%DH: As output, contains the converted number in hexadecimal.</p>
<p><strong>Examples of %DH</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO INT^%DH
Decimal: <span class="m">12</span>
Digits: <span class="m">1</span>
YDB&gt;ZWRITE
%DH<span class="o">=</span><span class="s2">&quot;C&quot;</span>
</pre></div>
</div>
<p>This example invokes %DH interactively with INT^%DH. %DH prompts for a decimal number and output length, then returns the result in the variable %DH. ZWRITE displays the contents of the variables.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET %DH<span class="o">=</span><span class="m">12</span>
YDB&gt;DO ^%DH
YDB&gt;ZWRITE
%DH<span class="o">=</span><span class="s2">&quot;0000000C&quot;</span>
%DL<span class="o">=</span><span class="m">8</span>
</pre></div>
</div>
<p>This example sets the read-write variable %DH to 12 and invokes %DH to convert the number to a hexadecimal number. Because the number of digits was not specified, %DH used the default of 8 digits. Set %DL to specify the number of output digits.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;WRITE <span class="nv">$$</span>FUNC^%DH<span class="o">(</span><span class="m">12</span>,4<span class="o">)</span>
000C
</pre></div>
</div>
<p>This example invokes %DH as an extrinsic function using the FUNC label. The first argument specifies the input decimal number and the optional, second argument specifies the number of output digits. If the extrinsic does not have a second argument, the length of the output defaults to eight characters.</p>
</section>
<section id="do">
<span id="do-util"></span><h3><a class="toc-backref" href="utility.html#id13">%DO</a><a class="headerlink" href="utility.html#do" title="Permalink to this heading">¶</a></h3>
<p>The %DO utility converts numeric values from decimal to octal. The default length of its output is 12 digits. The value assigned to the input variable %DL overrides the default and controls the length of the output. The routine has entry points for interactive or non-interactive use.</p>
<p><strong>Utility Labels</strong></p>
<p>INT: Converts the specified decimal number to an octal number with the specified number of digits, interactively.</p>
<p>FUNC(d[,ln]): Invokes %DO as an extrinsic function, returning the octal equivalent of the argument.</p>
<p><strong>Prompts</strong></p>
<p>Decimal: Requests a decimal number for conversion to octal.</p>
<p>Digits: Requests the length of the output in digits; 12 by default.</p>
<p><strong>Input Variables</strong></p>
<p>%DO: As input, contains input decimal number.</p>
<p>%DL: Specifies the number of digits in the output, defaults to 12.</p>
<p><strong>Output Variables</strong></p>
<p>%DO: As output, contains the converted number in octal.</p>
<p><strong>Examples of %DO</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO INT^%DO
Decimal: <span class="m">12</span>
Digits: <span class="m">4</span>
YDB&gt;ZWRITE
%DO<span class="o">=</span><span class="s2">&quot;0014&quot;</span>
</pre></div>
</div>
<p>This example invokes %DO interactively with INT^%DO. %DO prompts for a decimal number and an output length. If the output value of %DO has leading zeros, the value is a string. ZWRITE displays the contents of the variables.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET %DO<span class="o">=</span><span class="m">12</span>
YDB&gt;DO ^%DO
YDB&gt;ZWRITE
%DO<span class="o">=</span><span class="s2">&quot;000000000014&quot;</span>
</pre></div>
</div>
<p>This example sets the read-write variable %DO to 12 and invokes %DO to convert the number non-interactively. Because the number of digits was not specified, %DO used the default of 12 digits. Set %DL to specify the number of output digits. ZWRITE displays the contents of the variables.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;WRITE <span class="nv">$$</span>FUNC^%DO<span class="o">(</span><span class="m">12</span>,7<span class="o">)</span>
<span class="m">0000014</span>
</pre></div>
</div>
<p>This example invokes %DO as an extrinsic function with the label FUNC. The first argument specifies the number to be converted and the optional, second argument specifies the number of output digits. If the second argument is not specified, %DO uses the default of 12 digits.</p>
</section>
<section id="hd">
<span id="hd-util"></span><h3><a class="toc-backref" href="utility.html#id14">%HD</a><a class="headerlink" href="utility.html#hd" title="Permalink to this heading">¶</a></h3>
<p>The %HD utility converts numeric values from hexadecimal to decimal, accepting strings starting with a case independent <code class="code docutils literal notranslate"><span class="pre">&quot;0x&quot;</span></code>. %HD returns the decimal number in the read-write variable %HD. %HD rejects input numbers beginning with a minus (-) sign and returns null (“”). The routine has entry points for interactive or non-interactive use.</p>
<p><strong>Utility Labels</strong></p>
<p>INT: Converts hexadecimal number entered interactively to decimal number.</p>
<p>FUNC(h): Invokes %HD as an extrinsic function returning the decimal equivalent of the argument.</p>
<p><strong>Prompts</strong></p>
<p>Hexadecimal: Requests a hexadecimal number for conversion to decimal.</p>
<p><strong>Input Variables</strong></p>
<p>%HD: As input, contains input hexadecimal number.</p>
<p><strong>Output Variables</strong></p>
<p>%HD: As output, contains the converted number in decimal.</p>
<p><strong>Examples of %HD</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO INT^%HD
Hexadecimal:E
YDB&gt;ZWRITE
%HD<span class="o">=</span><span class="m">14</span>
</pre></div>
</div>
<p>This example invokes %HD in interactive mode with INT^%HD. %HD prompts for a hexadecimal number, then returns the converted number in the variable %HD. ZWRITE displays the contents of the variable.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET %HD<span class="o">=</span><span class="s2">&quot;E&quot;</span>
YDB&gt;DO ^%HD
YDB&gt;ZWRITE
%HD<span class="o">=</span><span class="m">14</span>
</pre></div>
</div>
<p>This example sets the read-write variable %HD to “E” and invokes %HD to convert non-interactively the value of %HD to a decimal number. %HD places the converted value into the read-write variable %HD.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;WRITE <span class="nv">$$</span>FUNC^%HD<span class="o">(</span><span class="s2">&quot;E&quot;</span><span class="o">)</span>
<span class="m">14</span>
</pre></div>
</div>
<p>This example invokes %HD as an extrinsic function with the label FUNC and writes the results.</p>
</section>
<section id="ho">
<span id="ho-util"></span><h3><a class="toc-backref" href="utility.html#id15">%HO</a><a class="headerlink" href="utility.html#ho" title="Permalink to this heading">¶</a></h3>
<p>The %HO utility converts numeric values from hexadecimal to octal, accepting strings starting with a case independent <code class="code docutils literal notranslate"><span class="pre">&quot;0x&quot;</span></code>. %HO returns the octal number in the read-write variable %HO. %HO rejects input numbers beginning with a minus (-) sign and returns null (“”). The routine has entry points for interactive or non-interactive use.</p>
<p><strong>Utility Labels</strong></p>
<p>INT: Converts hexadecimal number entered interactively to octal number.</p>
<p>FUNC(h): Invokes %HO as an extrinsic function returning the octal equivalent of the argument.</p>
<p><strong>Prompts</strong></p>
<p>Hexadecimal: Requests a hexadecimal number for conversion to octal.</p>
<p><strong>Input Variables</strong></p>
<p>%HO: As input, contains input hexadecimal number.</p>
<p><strong>Output Variables</strong></p>
<p>%HO: As input, contains input hexadecimal number.</p>
<p><strong>Examples of %HO</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO INT^%HO
Hexadecimal:C3
YDB&gt;ZWRITE
%HO<span class="o">=</span><span class="m">303</span>
</pre></div>
</div>
<p>This example invokes %HO in interactive mode using INT^%HO. %HO prompts for a hexadecimal number that it converts to an octal number. ZWRITE displays the contents of the variable.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET %HO<span class="o">=</span><span class="s2">&quot;C3&quot;</span>
YDB&gt;DO ^%HO
YDB&gt;ZWRITE
%HO<span class="o">=</span><span class="m">303</span>
</pre></div>
</div>
<p>This example sets the read-write variable %HO to “C3” and invokes %HO to convert the value of %HO non-interactively. ZWRITE displays the contents of the variable.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;WRITE <span class="nv">$$</span>FUNC^%HO<span class="o">(</span><span class="s2">&quot;C3&quot;</span><span class="o">)</span>
<span class="m">303</span>
</pre></div>
</div>
<p>This example invokes %HO as an extrinsic function with the FUNC label.</p>
</section>
<section id="lcase">
<span id="lcase-util"></span><h3><a class="toc-backref" href="utility.html#id16">%LCASE</a><a class="headerlink" href="utility.html#lcase" title="Permalink to this heading">¶</a></h3>
<p>The %LCASE utility converts a string to all lower-case letters. If a routine uses this function repetitively, put the utility code directly into the M program.</p>
<p><strong>Utility Labels</strong></p>
<p>INT: Converts interactively a string to lower-case.</p>
<p>FUNC(s): Invokes %LCASE as an extrinsic function returning the lower-case form of the argument.</p>
<p><strong>Prompts</strong></p>
<p>String: Requests a string for conversion to lower case.</p>
<p><strong>Input Variables</strong></p>
<p>%S: As input, contains string to be converted to lower case.</p>
<p><strong>Output Variables</strong></p>
<p>%S: As output, contains the converted string in lower case.</p>
<p><strong>Examples of %LCASE</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO INT^%LCASE
String: LABEL
Lower: label
</pre></div>
</div>
<p>This example invokes %LCASE in interactive mode using INT^%LCASE. %LCASE prompts for a string that it converts to all lower case.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET %S<span class="o">=</span><span class="s2">&quot;Hello&quot;</span>
YDB&gt;do ^%LCASE
YDB&gt;zwrite
%S<span class="o">=</span><span class="s2">&quot;hello&quot;</span>
</pre></div>
</div>
<p>This example sets the variable %S to the string “Hello” and invokes %LCASE non-interactively to convert the string.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET ^X<span class="o">=</span><span class="s2">&quot;Hello&quot;</span>
YDB&gt;WRITE <span class="nv">$$</span>FUNC^%LCASE<span class="o">(</span>^X<span class="o">)</span>
hello
</pre></div>
</div>
<p>This example sets the variable ^X to the string “Hello” and invokes %LCASE as an extrinsic function that returns “hello” in lower case.</p>
</section>
<section id="od">
<span id="od-util"></span><h3><a class="toc-backref" href="utility.html#id17">%OD</a><a class="headerlink" href="utility.html#od" title="Permalink to this heading">¶</a></h3>
<p>The %OD utility converts numeric values from octal to decimal. %OD returns the decimal number in the read-write variable %OD. %OD rejects input numbers beginning with a minus (-) sign and returns null (“”). The routine has entry points for interactive or non-interactive use.</p>
<p><strong>Utility Labels</strong></p>
<p>INT: Converts octal number entered interactively to decimal number.</p>
<p>FUNC(oct): Invokes %OD as an extrinsic function returning the decimal equivalent of the argument.</p>
<p><strong>Prompts</strong></p>
<p>Octal: Requests an octal number for conversion to decimal.</p>
<p><strong>Input Variables</strong></p>
<p>%OD: As input, contains input octal number.</p>
<p><strong>Output Variables</strong></p>
<p>%OD: As output, contains the converted number in decimal.</p>
<p><strong>Examples of %OD</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO INT^%OD
Octal:14
YDB&gt;ZWRITE
%OD<span class="o">=</span><span class="m">12</span>
</pre></div>
</div>
<p>This example invokes INT^%OD to interactively convert the octal number entered. %OD prompts for an octal number that it converts to a decimal. %OD returns the converted value in the variable %OD.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET %OD<span class="o">=</span><span class="m">14</span>
YDB&gt;DO ^%OD
YDB&gt;ZWRITE
%OD<span class="o">=</span><span class="m">12</span>
</pre></div>
</div>
<p>This example sets the read-write variable %OD to 14 and invokes %OD to convert the number non-interactively. ZWRITE displays the contents of the variables.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;WRITE <span class="nv">$$</span>FUNC^%OD<span class="o">(</span><span class="m">14</span><span class="o">)</span>
<span class="m">12</span>
</pre></div>
</div>
<p>This example invokes %OD as an extrinsic function with the FUNC label. The argument specifies the number to be converted.</p>
</section>
<section id="oh">
<span id="oh-util"></span><h3><a class="toc-backref" href="utility.html#id18">%OH</a><a class="headerlink" href="utility.html#oh" title="Permalink to this heading">¶</a></h3>
<p>The %OH utility converts numeric values from octal to hexadecimal. %OH returns the hexadecimal number in the read-write variable %OH. %OH rejects input numbers beginning with a minus (-) sign. The routine has entry points for interactive or non-interactive use. In interactive mode, %OH rejects non-octal numbers with the following message, “Input must be an octal number”. In non-interactive mode, %OH returns a null string (“”) upon encountering a non-octal number.</p>
<p><strong>Utility Labels</strong></p>
<p>INT: Converts interactively octal number entered to hexadecimal number.</p>
<p>FUNC(oct): Invokes %OH as an extrinsic function returning the hexadecimal equivalent of the argument.</p>
<p><strong>Prompts</strong></p>
<p>Octal: Requests an octal number for conversion to hexadecimal.</p>
<p><strong>Input Variables</strong></p>
<p>%OH: As input, contains input octal number.</p>
<p><strong>Output Variables</strong></p>
<p>%OH: As output, contains the converted number in hexadecimal.</p>
<p><strong>Examples of %OH</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO INT^%OH
Octal:16
YDB&gt;ZWRITE
%OH<span class="o">=</span><span class="s2">&quot;E&quot;</span>
</pre></div>
</div>
<p>This example invokes %OH in interactive mode using INT^%OH. %OH prompts for an octal number that it converts to a hexadecimal number. ZWRITE displays the contents of the variable.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET %OH<span class="o">=</span><span class="m">16</span>
YDB&gt;DO ^%OH
YDB&gt;ZWRITE
%OH<span class="o">=</span><span class="s2">&quot;E&quot;</span>
</pre></div>
</div>
<p>This example sets the read-write variable %OH to 16 and invokes %OH to convert the value of %OH non-interactively. ZWRITE displays the contents of the variable.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;WRITE <span class="nv">$$</span>FUNC^%OH<span class="o">(</span><span class="m">16</span><span class="o">)</span>
E
</pre></div>
</div>
<p>This example invokes %OH as an extrinsic function with the FUNC label.</p>
</section>
<section id="ucase">
<span id="ucase-util"></span><h3><a class="toc-backref" href="utility.html#id19">%UCASE</a><a class="headerlink" href="utility.html#ucase" title="Permalink to this heading">¶</a></h3>
<p>The %UCASE utility converts a string to all upper-case letters. If a routine uses this function repetitively, put the utility code directly into the M program.</p>
<p><strong>Utility Labels</strong></p>
<p>INT: Converts a string to upper case interactively.</p>
<p>FUNC(s): Invokes %UCASE as an extrinsic function, returning the upper-case form of the argument.</p>
<p><strong>Prompts</strong></p>
<p>String: Requests a string for conversion to upper case.</p>
<p><strong>Input Variables</strong></p>
<p>%S: As input, contains string to be converted to upper case.</p>
<p><strong>Output Variables</strong></p>
<p>%S: As output, contains the converted string in upper case.</p>
<p><strong>Examples of %UCASE</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO INT^%UCASE
String: <span class="nb">test</span>
Upper: TEST
</pre></div>
</div>
<p>This example invokes %UCASE in interactive mode using INT^%UCASE. %UCASE prompts for a string that it converts to all upper case.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET ^X<span class="o">=</span><span class="s2">&quot;hello&quot;</span>
YDB&gt;WRITE <span class="nv">$$</span>FUNC^%UCASE<span class="o">(</span>^X<span class="o">)</span>
HELLO
</pre></div>
</div>
<p>This example sets the variable X to the string “hello” and invokes %UCASE as an extrinsic function that returns “HELLO” in upper case.</p>
</section>
</section>
<section id="mathematic-utilities">
<h2><a class="toc-backref" href="utility.html#id20">Mathematic Utilities</a><a class="headerlink" href="utility.html#mathematic-utilities" title="Permalink to this heading">¶</a></h2>
<p>The mathematic utilities are:</p>
<p>%EXP: Raises one number to the power of another number.</p>
<p>%SQROOT: Calculates the square root of a number.</p>
<p>The mathematic utilities can be invoked as extrinsic functions.</p>
<section id="exp">
<span id="exp-util"></span><h3><a class="toc-backref" href="utility.html#id21">%EXP</a><a class="headerlink" href="utility.html#exp" title="Permalink to this heading">¶</a></h3>
<p>The %EXP utility raises one number provided to the power of another number provided. While this utility provides an interactive interface for exponential calculations, most production code would perform inline calculation with the “**” operator. The routine has entry points for interactive or non-interactive use.</p>
<p><strong>Utility Labels</strong></p>
<p>INT: Calculates a number to the power of another number interactively.</p>
<p>FUNC(i,j): Invokes %EXP as an extrinsic function returning the first argument raised to the power of the second argument.</p>
<p><strong>Prompts</strong></p>
<p>Power: Requests an exponent or power.</p>
<p>Number: Requests a base number to raise by the power.</p>
<p><strong>Input Variables</strong></p>
<p>%I: As input, contains number to be raised to a power.</p>
<p>%J: Contains exponential power by which to raise %I.</p>
<p><strong>Output Variables</strong></p>
<p>%I: As output, contains the result of the exponential calculation.</p>
<p><strong>Examples of %EXP</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO INT^%EXP
Power: <span class="m">3</span>
Number: <span class="m">12</span>
<span class="m">12</span> raised to <span class="m">3</span> is <span class="m">1728</span>
</pre></div>
</div>
<p>This example invokes %EXP in interactive mode using INT^%EXP. %EXP prompts for an exponent (power) and a base number.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET %I<span class="o">=</span><span class="m">2</span>,%J<span class="o">=</span><span class="m">9</span>
YDB&gt;DO ^%EXP
YDB&gt;ZWRITE
%I<span class="o">=</span><span class="m">512</span>
%J<span class="o">=</span><span class="m">9</span>
</pre></div>
</div>
<p>This example sets the read-write variable %I to 2, variable %J to 9, and invokes %EXP to calculate the result. ZWRITE displays the contents of the variables. %I contains the result.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;WRITE <span class="nv">$$</span>FUNC^%EXP<span class="o">(</span><span class="m">2</span>,9<span class="o">)</span>
<span class="m">512</span>
</pre></div>
</div>
<p>This example invokes %EXP as an extrinsic function with the label FUNC.</p>
</section>
<section id="sqroot">
<span id="sqroot-util"></span><h3><a class="toc-backref" href="utility.html#id22">%SQROOT</a><a class="headerlink" href="utility.html#sqroot" title="Permalink to this heading">¶</a></h3>
<p>The %SQROOT utility calculates the square root of a number provided. While this utility provides an interactive interface for taking square roots, most production code would perform inline calculation by raising a number to the .5 power (n**.5). The routine has entry points for interactive or non-interactive use.</p>
<p><strong>Utility Labels</strong></p>
<p>INT: Calculates the square root of a number interactively.</p>
<p>FUNC(s): Invokes %SQROOT as an extrinsic function returning the square root of the argument.</p>
<p><strong>Prompts</strong></p>
<p>The square root of: Requests a number.</p>
<p><strong>Input Variables</strong></p>
<p>%X: Contains the number for which to calculate the square root.</p>
<p><strong>Output Variables</strong></p>
<p>%Y: Contains the square root of %X.</p>
<p><strong>Examples of %SQROOT</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;SET %X<span class="o">=</span><span class="m">81</span>
YDB&gt;DO ^%SQROOT
YDB&gt;ZWRITE
%X<span class="o">=</span><span class="m">81</span>
%Y<span class="o">=</span><span class="m">9</span>
</pre></div>
</div>
<p>This example sets the variable %X to 81 and invokes %SQROOT to calculate the square root non-interactively. ZWRITE displays the contents of the variables.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO INT^%SQROOT
The square root of: <span class="m">81</span> is: <span class="m">9</span>
The square root of: &lt;RETURN&gt;
YDB&gt;
</pre></div>
</div>
<p>This example invokes INT^%SQROOT interactively that prompts for a number. The square root of the number appears on the same line. %SQROOT then prompts for another number. Press &lt;RETURN&gt; to exit.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;WRITE <span class="nv">$$</span>FUNC^%SQROOT<span class="o">(</span><span class="m">81</span><span class="o">)</span>
<span class="m">9</span>
</pre></div>
</div>
<p>This example invokes %SQROOT as an extrinsic function with the label FUNC.</p>
</section>
</section>
<section id="string-utilities">
<h2><a class="toc-backref" href="utility.html#id23">String Utilities</a><a class="headerlink" href="utility.html#string-utilities" title="Permalink to this heading">¶</a></h2>
<section id="mpiece">
<h3><a class="toc-backref" href="utility.html#id24">%MPIECE</a><a class="headerlink" href="utility.html#mpiece" title="Permalink to this heading">¶</a></h3>
<p>The %MPIECE utility replaces one or more consecutive occurrences of the second argument in the first argument with one occurrence of the third argument. This lets $PIECE operate on the resulting string like UNIX <a class="reference external" href="https://en.wikipedia.org/wiki/AWK">awk</a>.</p>
<p>You can use the %MPIECE utility in Direct Mode or include it in a source application program in the following format:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$$^%MPIECE(str,expr1,expr2)
</pre></div>
</div>
<p>If expr1 and expr2 are not specified, %MPIECE assumes expr1 to be one or more consecutive occurrences of whitespaces and expr2 to be one space.</p>
<p>%MPIECE removes all leading occurrences of expr1 from the result.</p>
<p><strong>Utility Labels</strong></p>
<p>$$SPLIT^%MPIECE(str,expr1): Invokes %MPIECE as an extrinsic function that returns an alias local array of string divided into pieces by expr1. If expr1 is not specified, MPIECE assumes expr1 to be one or more consecutive occurrences of whitespaces.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;set <span class="nv">strToSplit</span><span class="o">=</span><span class="s2">&quot; please split this string into six&quot;</span>
YDB&gt;set <span class="nv">piecestring</span><span class="o">=</span><span class="nv">$$</span>^%MPIECE<span class="o">(</span>strToSplit,<span class="s2">&quot; &quot;</span>,<span class="s2">&quot;|&quot;</span><span class="o">)</span> zwrite strToSplit,piecestring write <span class="nv">$length</span><span class="o">(</span>piecestring,<span class="s2">&quot;|&quot;</span><span class="o">)</span>
<span class="nv">strToSplit</span><span class="o">=</span><span class="s2">&quot; please split this string into six&quot;</span>
<span class="nv">piecestring</span><span class="o">=</span><span class="s2">&quot;please|split|this|string|into|six</span>
<span class="s2">6</span>
<span class="s2">YDB&gt;set \*fields=</span><span class="nv">$$</span><span class="s2">SPLIT^%MPIECE(strToSplit) zwrite fields</span>
<span class="s2">fields(1)=&quot;</span>please<span class="s2">&quot;</span>
<span class="s2">fields(2)=&quot;</span>split<span class="s2">&quot;</span>
<span class="s2">fields(3)=&quot;</span>this<span class="s2">&quot;</span>
<span class="s2">fields(4)=&quot;</span>string<span class="s2">&quot;</span>
<span class="s2">fields(5)=&quot;</span>into<span class="s2">&quot;</span>
<span class="s2">fields(6)=&quot;</span>six<span class="s2">&quot;</span>
</pre></div>
</div>
</section>
<section id="randstr">
<h3><a class="toc-backref" href="utility.html#id25">%RANDSTR</a><a class="headerlink" href="utility.html#randstr" title="Permalink to this heading">¶</a></h3>
<p>%RANDSTR generates a random string.</p>
<p>The format of %RANDSTR is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>%RANDSTR (strlen,charranges,patcodes,charset)
</pre></div>
</div>
<p>The random string is of length strlen from an alphabet defined by charset or by charranges and patcodes.</p>
<p>strlen: the length of the random string.</p>
<p>charranges: Range of alphabets defined by charset. By default charranges is 1:1:127. charranges uses the same syntax used for FOR loop ranges, for example, 48:2:57 to select the even decimal digits or 48:1:57,65:1:70 to select hexadecimal digits.</p>
<p>patcodes: specifies pattern codes used to restrict the characters to those that match the selected codes. By default, patcodes is “AN”.</p>
<p>charset: Specifies a string of non-zero length. If specified, %RANDSTR generates the random string using the characters in charset, otherwise it takes its alphabet as specified by charranges and patcodes. If charset is of zero length, and is passed by reference, %RANDSTR() initializes it to the alphabet of characters defined by charranges and patcodes. If not specified, strlen defaults to 8, charranges defaults to 1:1:127 and patcodes to “AN”.</p>
</section>
<section id="trim">
<h3><a class="toc-backref" href="utility.html#id26">%TRIM</a><a class="headerlink" href="utility.html#trim" title="Permalink to this heading">¶</a></h3>
<p>%TRIM removes leading and trailing characters from a string. The format of the %TRIM utility function is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>$$FUNC|$$L|$$R^%TRIM(expr1[,expr2])
</pre></div>
</div>
<ul class="simple">
<li><p>The first expression specifies the string. The optional second expression specifies a list of trailing and leading characters to remove from expr1. When expr2 is not specified, ^%TRIM assumes expr2 as $char(9,32) which removes all trailing and leading whitespaces (spaces and tabs) from expr1. Note that ^%TRIM treats expr2 as a list of characters (not a substring).</p></li>
<li><p>The $$FUNC label trims leading and trailing characters.</p></li>
<li><p>The $$L label trims leading characters.</p></li>
<li><p>The $$R label trims trailing characters.</p></li>
</ul>
<p>You can also use %TRIM as a command line utility to read from STDIN and write to STDOUT in the following format:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="s2">&quot;  string with leading and trailing spaces  &quot;</span> <span class="p">|</span> <span class="nv">$ydb_dist</span>/yottadb -r ^%TRIM
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;set <span class="nv">strToTrim</span><span class="o">=</span><span class="nv">$char</span><span class="o">(</span><span class="m">9</span>,32<span class="o">)</span>_<span class="s2">&quot;string with spaces and tabs&quot;</span>_<span class="nv">$char</span><span class="o">(</span><span class="m">32</span>,32,32<span class="o">)</span> write <span class="nv">$length</span><span class="o">(</span>strToTrim<span class="o">)</span>
<span class="m">32</span>
YDB&gt;write <span class="s2">&quot;strToTrim=&quot;</span>,?24,<span class="s2">&quot;&quot;&quot;&quot;</span>,strToTrim,<span class="s2">&quot;&quot;&quot;&quot;</span>,!,<span class="s2">&quot;</span><span class="nv">$$</span><span class="s2">L^%TRIM(strToTrim)=&quot;</span>,?24,<span class="s2">&quot;&quot;&quot;&quot;</span>,<span class="nv">$$</span>L^%TRIM<span class="o">(</span>strToTrim<span class="o">)</span>,<span class="s2">&quot;&quot;&quot;&quot;</span>,!,<span class="s2">&quot;</span><span class="nv">$$</span><span class="s2">R^%TRIM(strToTrim)=&quot;</span>,?24,<span class="s2">&quot;&quot;&quot;&quot;</span>,<span class="nv">$$</span>R^%TRIM<span class="o">(</span>strToTrim<span class="o">)</span>,<span class="s2">&quot;&quot;&quot;&quot;</span>,!,<span class="s2">&quot;</span><span class="nv">$$</span><span class="s2">FUNC^%TRIM(strToTrim)=&quot;</span>,?24,<span class="s2">&quot;&quot;&quot;&quot;</span>,<span class="nv">$$</span>FUNC^%TRIM<span class="o">(</span>strToTrim<span class="o">)</span>,<span class="s2">&quot;&quot;&quot;&quot;</span>
<span class="nv">strToTrim</span><span class="o">=</span>              <span class="s2">&quot;        string with spaces and tabs   &quot;</span>
<span class="nv">$$</span>L^%TRIM<span class="o">(</span>strToTrim<span class="o">)=</span>   <span class="s2">&quot;string with spaces and tabs   &quot;</span>
<span class="nv">$$</span>R^%TRIM<span class="o">(</span>strToTrim<span class="o">)=</span>   <span class="s2">&quot;        string with spaces and tabs&quot;</span>
<span class="nv">$$</span>FUNC^%TRIM<span class="o">(</span>strToTrim<span class="o">)=</span><span class="s2">&quot;string with spaces and tabs&quot;</span>
</pre></div>
</div>
<p>This example invokes %TRIM as an extrinsic function and demonstrates the use of its $$L,$$R, and $$FUNC labels.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">echo</span> <span class="s2">&quot; YottaDB Rocks! &quot;</span> <span class="p">|</span> <span class="nv">$ydb_dist</span>/yottadb -r ^%TRIM
YottaDB Rocks!
$
</pre></div>
</div>
<p>This example invokes %TRIM as a command line utility which reads STDIN and writes the trimmed output to STDOUT.</p>
</section>
</section>
<section id="global-utilities">
<h2><a class="toc-backref" href="utility.html#id27">Global Utilities</a><a class="headerlink" href="utility.html#global-utilities" title="Permalink to this heading">¶</a></h2>
<p>The Global utilities are:</p>
<p>%G: Displays global variables and their values.</p>
<p>%GC: Copies a global or global sub-tree.</p>
<p>%GCE: Replaces a specified value or part of a value in a set of variables.</p>
<p>%GD: Displays existing globals in the current global directory without displaying their values or descendants.</p>
<p>%GED: Provides full-screen editing capabilities for global variables and values.</p>
<p>%GI: Loads global data from a sequential file into a YottaDB database.</p>
<p>%GO: Extracts global data from a YottaDB database into a sequential file.</p>
<p>%GSE: Displays global variables and their values when the values contain a specified string or number.</p>
<p>%GSEL: Selects globals.</p>
<p>%ZSHOWVTOLCL: Restores ZSHOW “V”:gvn data into its original local variables.</p>
<section id="g">
<span id="g-util"></span><h3><a class="toc-backref" href="utility.html#id28">%G</a><a class="headerlink" href="utility.html#g" title="Permalink to this heading">¶</a></h3>
<p>The %G utility displays names, descendants and values of globals currently existing in the database. Use %G to examine global variables and their values. Enter a question mark (?) at any prompt to display help information.</p>
<p><strong>Prompts</strong></p>
<p>Output Device: &lt;terminal&gt;:</p>
<p>Requests a destination device; defaults to the principal device.</p>
<p>List ^Requests the name, in ZWRITE format, of a global to display.</p>
<p>For descriptions of valid input to the List ^ prompt, see the following table.</p>
<p>Arguments for %G and %GED:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 53%" />
<col style="width: 22%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Item</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Examples</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Global Name</p></td>
<td><p>M Name</p></td>
<td><p>SQL, %5</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>M pattern form to match several globals</p></td>
<td><p>?1”A”.E, ?1A1”TMP”</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>asterisk to match all global names</p></td>
<td><p>*</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>global directory lists request</p></td>
<td><p>?D</p></td>
</tr>
<tr class="row-even"><td><p>Subscripts following a global name in
parenthesis</p></td>
<td><p>M Expr</p></td>
<td><p>“rick”,599,X, or $e(a,7)*10</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>[expr]:[expr] for a range</p></td>
<td><p>1:10, “A”:”F”, or :4, PNT:, :</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>M pattern form to match certain subscripts</p></td>
<td><p>1”E”3N, or ?1”%F”.E</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>* descendants</p></td>
<td><p>*</p></td>
</tr>
</tbody>
</table>
<p><strong>Examples of %G</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;do ^%G
Output Device: &lt;terminal&gt;: &lt;RETURN&gt;
List ^C
^C<span class="o">=</span><span class="s2">&quot;CLASS&quot;</span>
^C<span class="o">(</span><span class="m">1</span><span class="o">)=</span><span class="s2">&quot;MARY&quot;</span>
^C<span class="o">(</span><span class="m">1</span>,2<span class="o">)=</span><span class="s2">&quot;MATH&quot;</span>
^C<span class="o">(</span><span class="m">1</span>,2,1<span class="o">)=</span><span class="m">80</span>
^C<span class="o">(</span><span class="m">1</span>,3<span class="o">)=</span><span class="s2">&quot;BIO&quot;</span>
^C<span class="o">(</span><span class="m">1</span>,3,1<span class="o">)=</span><span class="m">90</span>
^C<span class="o">(</span><span class="m">2</span><span class="o">)=</span><span class="s2">&quot;JOHN&quot;</span>
^C<span class="o">(</span><span class="m">3</span><span class="o">)=</span><span class="s2">&quot;PETER&quot;</span>
List ^ &lt;RETURN&gt;
YDB&gt;
</pre></div>
</div>
<p>This example lists the nodes of global ^C. %G displays the global and its descendants and values, if the node exists.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;do ^%G
Output Device: &lt;terminal&gt;: &lt;RETURN&gt;
List ^C<span class="o">(</span><span class="m">1</span><span class="o">)</span>
^C<span class="o">(</span><span class="m">1</span><span class="o">)=</span><span class="s2">&quot;MARY&quot;</span>
</pre></div>
</div>
<p>This example lists only the node entered and its value.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;do ^%G
Output Device: &lt;terminal&gt;: &lt;RETURN&gt;
List ^C<span class="o">(</span><span class="m">1</span>,*<span class="o">)</span>
^C<span class="o">(</span><span class="m">1</span><span class="o">)=</span><span class="s2">&quot;MARY&quot;</span>
^C<span class="o">(</span><span class="m">1</span>,2<span class="o">)=</span><span class="s2">&quot;MATH&quot;</span>
^C<span class="o">(</span><span class="m">1</span>,2,1<span class="o">)=</span><span class="m">80</span>
^C<span class="o">(</span><span class="m">1</span>,3<span class="o">)=</span><span class="s2">&quot;BIO&quot;</span>
^C<span class="o">(</span><span class="m">1</span>,3,1<span class="o">)=</span><span class="m">90</span>
List ^ &lt;RETURN&gt;
YDB&gt;
</pre></div>
</div>
<p>This example uses the asterisk (*) wildcard to list node ^C(1), its descendants and values.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;do ^%G
Output Device: &lt;terminal&gt;: &lt;RETURN&gt;
List ^?D
Global Directory
Global ^ &lt;RETURN&gt;
^C ^D ^S ^Y ^a
Total of <span class="m">5</span> globals.
List ^
YDB&gt;
</pre></div>
</div>
<p>This example specifies “?D” as the global that invokes the %GD utility. %GD displays existing globals in the current global directory without displaying their values or descendants.</p>
</section>
<section id="gc">
<span id="gc-util"></span><h3><a class="toc-backref" href="utility.html#id29">%GC</a><a class="headerlink" href="utility.html#gc" title="Permalink to this heading">¶</a></h3>
<p>The %GC utility copies values of globals from one global to another. It is useful for testing and for moving misfiled data.</p>
<p><strong>Prompts</strong></p>
<p>Show copied nodes &lt;Yes&gt;?:</p>
<p>Asks whether to display the “source nodes” on the principal device.</p>
<p>From global: ^Requests a global variable name from which to copy variable and descendants.</p>
<p>To global: ^Request a global variable name to receive the copy.</p>
<p><strong>Examples of %GC</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;do ^%GC
Global copy
Show copied nodes &lt;Yes&gt;? &lt;RETURN&gt;
From global ^b
To global ^g
^g<span class="o">(</span><span class="m">1</span><span class="o">)=</span><span class="m">1</span>
^g<span class="o">(</span><span class="m">2</span><span class="o">)=</span><span class="m">2</span>
^g<span class="o">(</span><span class="m">3</span><span class="o">)=</span><span class="m">3</span>
Total <span class="m">3</span> nodes copied.
From global ^&lt;RETURN&gt;
YDB&gt;
</pre></div>
</div>
<p>This example makes a copy of the nodes and values of global ^b to global ^g.</p>
</section>
<section id="gce">
<span id="gce-util"></span><h3><a class="toc-backref" href="utility.html#id30">%GCE</a><a class="headerlink" href="utility.html#gce" title="Permalink to this heading">¶</a></h3>
<p>The %GCE utility changes every occurrence of a string within the data of selected global nodes to a replacement string. ^%GCE changes the string in each place it occurs, even if it forms part of a longer string. For example, changing the string 12 to 55 changes 312 to 355.</p>
<p>%GCE displays the name of each global as it is processed. You can suppress the output of the names of globals in which no changes are made by using the QUIET utility label.</p>
<p><strong>Prompts</strong></p>
<p>Global^: Requests (using %GSEL) the name(s) of the globals to change; &lt;RETURN&gt; ends selection.</p>
<p>Old string: Requests an existing string to find.</p>
<p>New string: Requests the replacement string.</p>
<p>Show changed nodes &lt;Yes&gt;?:</p>
<p>Asks whether to display the before and after versions of modified nodes on the current device.</p>
<p>Output Device: &lt;terminal&gt;:</p>
<p>Requests a destination device; defaults to the principal device.</p>
<p>QUIET: Only displays the names of globals in which changes are made.</p>
<p><strong>Examples of %GCE</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%GCE
Global Change Every occurrence
Global ^a:^b
^a ^b
Current total of <span class="m">2</span> globals.
Global ^ &lt;RETURN&gt;
Old String: hello
New String: good-bye
Show changed nodes &lt;Yes&gt;?: &lt;RETURN&gt;
Output Device: &lt;terminal&gt;: &lt;RETURN&gt;
^a
No changes made <span class="k">in</span> total <span class="m">1</span> nodes.
^b
^b<span class="o">(</span><span class="m">10</span><span class="o">)</span>
Was : hello Adam
Now : good-bye Adam
<span class="m">1</span> changes made <span class="k">in</span> total <span class="m">25</span> nodes.
Global ^ &lt;RETURN&gt;
YDB&gt;
</pre></div>
</div>
<p>This example searches a range of globals and its nodes for the old string value entered. YottaDB searches each global and displays the changes and number of nodes changed and checked.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;set ^b<span class="o">(</span><span class="m">12</span><span class="o">)=</span><span class="m">12</span>
YDB&gt;set ^b<span class="o">(</span><span class="m">122</span><span class="o">)=</span><span class="m">122</span>
YDB&gt;set ^b<span class="o">(</span><span class="m">30</span><span class="o">)=</span><span class="m">656</span>
YDB&gt;set ^b<span class="o">(</span><span class="m">45</span><span class="o">)=</span><span class="m">344</span>
YDB&gt;set ^b<span class="o">(</span><span class="m">1212</span><span class="o">)=</span><span class="m">012212</span>
YDB&gt;DO ^%GCE
Global Change Every occurrence
Global ^b
Current total of <span class="m">1</span> global.
Global ^ &lt;RETURN&gt;
Old String: <span class="m">12</span>
New String: <span class="m">35</span>
Show changed nodes &lt;Yes&gt;?: &lt;RETURN&gt;
Output Device: &lt;terminal&gt;: &lt;RETURN&gt;
^b<span class="o">(</span><span class="m">12</span><span class="o">)</span>
Was : <span class="m">12</span>
Now : <span class="m">35</span>
^b<span class="o">(</span><span class="m">122</span><span class="o">)</span>
Was : <span class="m">122</span>
Now : <span class="m">352</span>
^b<span class="o">(</span><span class="m">1212</span><span class="o">)</span>
Was : <span class="m">12212</span>
Now : <span class="m">35235</span>
<span class="m">5</span> changes made <span class="k">in</span> total <span class="m">5</span> nodes
Global ^ &lt;RETURN&gt;
YDB&gt;DO ^%G
Output device: &lt;terminal&gt;: &lt;RETURN&gt;
List ^b
^b<span class="o">(</span><span class="m">12</span><span class="o">)=</span><span class="m">35</span>
^b<span class="o">(</span><span class="m">30</span><span class="o">)=</span><span class="m">656</span>
^b<span class="o">(</span><span class="m">45</span><span class="o">)=</span><span class="m">344</span>
^b<span class="o">(</span><span class="m">122</span><span class="o">)=</span><span class="m">352</span>
^b<span class="o">(</span><span class="m">1212</span><span class="o">)=</span><span class="m">35235</span>
</pre></div>
</div>
<p>This example shows that executing %GCE replaces all occurrences of “12” in the data stored in the global ^b with “35” and displays the affected nodes before and after the change. Then the %G demonstrates that “12” as data was changed, while “12” in the subscripts remained untouched.</p>
</section>
<section id="gd">
<span id="gd-util"></span><h3><a class="toc-backref" href="utility.html#id31">%GD</a><a class="headerlink" href="utility.html#gd" title="Permalink to this heading">¶</a></h3>
<p>The %GD utility displays existing globals in the current global directory without displaying their values or descendants.</p>
<p>%GD prompts for a global name and redisplays the name if that global exists.</p>
<p>%GD interprets a percent sign (%) in the first position of a global name literally.</p>
<p>%GD allows the wildcard characters asterisk (*) and question mark (?). The wildcards carry their usual meanings, an asterisk (*) denotes a field or a portion of a field, and a question mark (?) denotes a single character.</p>
<p>A colon (:) between two globals specifies a range. %GD displays existing globals within that range.</p>
<p>After each selection %GD reports the number of globals selected by the input.</p>
<p>A question mark (?) entered at a prompt displays help information. Pressing &lt;RETURN&gt; exits %GD.</p>
<p><strong>Prompts</strong></p>
<p>Global^: Requests (using %GSEL) a global name with optional wildcards or a range of names; &lt;RETURN&gt; terminates %GD.</p>
<p><strong>Examples of %GD</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%GD
Global directory
Global ^k
^k
Total of <span class="m">1</span> global.
Global ^ &lt;RETURN&gt;
YDB&gt;
</pre></div>
</div>
<p>This example verifies that ^k exists in the global directory.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%GD
Global directory
Global ^C:S
^C ^D ^S
Total of <span class="m">3</span> globals
Global ^ &lt;RETURN&gt;
YDB&gt;
</pre></div>
</div>
<p>This example displays a range of globals that exist from ^C to ^S.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%GD Global directory
Global ^*
^C ^D ^S ^Y ^a
Total of <span class="m">5</span> globals
Global ^ &lt;RETURN&gt;
YDB&gt;
</pre></div>
</div>
<p>The asterisk (*) wildcard at the Global ^ prompt displays all globals in the global directory.</p>
</section>
<section id="ged">
<span id="ged-util"></span><h3><a class="toc-backref" href="utility.html#id32">%GED</a><a class="headerlink" href="utility.html#ged" title="Permalink to this heading">¶</a></h3>
<p>The %GED utility enables you to edit the globals in a full-screen editor environment. %GED invokes your default editor as specified by the EDITOR environment variable. When you finish the edit, use the [save and] exit command(s) of the editor you are using, to exit.</p>
<p><strong>Prompts</strong></p>
<p>Edit^: Requests the name, in ZWRITE format, of a global to edit.</p>
<p>Only one global can be edited at a time with %GED, see “Prompts” above for descriptions of valid input for subscripts.</p>
<p><strong>Examples of %GED</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%GED
edit ^ b
Beginning screen:
^b<span class="o">(</span><span class="m">1</span><span class="o">)=</span><span class="s2">&quot;melons&quot;</span>
^b<span class="o">(</span><span class="m">2</span><span class="o">)=</span><span class="s2">&quot;oranges&quot;</span>
^b<span class="o">(</span><span class="m">3</span><span class="o">)=</span><span class="s2">&quot;bananas&quot;</span>
Screen with a change to ^b<span class="o">(</span><span class="m">1</span><span class="o">)</span>, elimination of ^b<span class="o">(</span><span class="m">3</span><span class="o">)</span>, and two new entries ^b<span class="o">(</span><span class="m">4</span><span class="o">)</span> and ^b<span class="o">(</span><span class="m">5</span><span class="o">)</span>:
^b<span class="o">(</span><span class="m">1</span><span class="o">)=</span><span class="s2">&quot;apples&quot;</span>
^b<span class="o">(</span><span class="m">2</span><span class="o">)=</span><span class="s2">&quot;oranges&quot;</span>
^b<span class="o">(</span><span class="m">4</span><span class="o">)=</span>pears
^b<span class="o">(</span><span class="m">5</span><span class="o">)=</span><span class="s2">&quot;grapes&quot;</span>
%GED responds:
Invalid syntax: b<span class="o">(</span><span class="m">4</span><span class="o">)=</span>pears
<span class="k">return</span> to <span class="k">continue</span>:
After screen:
^b<span class="o">(</span><span class="m">1</span><span class="o">)=</span><span class="s2">&quot;apples&quot;</span>
^b<span class="o">(</span><span class="m">2</span><span class="o">)=</span><span class="s2">&quot;oranges&quot;</span>
^b<span class="o">(</span><span class="m">4</span><span class="o">)=</span><span class="s2">&quot;pears&quot;</span>
^b<span class="o">(</span><span class="m">5</span><span class="o">)=</span><span class="s2">&quot;grapes&quot;</span>
%GED responds:
node: ^b
selected: <span class="m">3</span>
changed: <span class="m">1</span>
added: <span class="m">2</span>
killed: <span class="m">1</span>
Edit ^ &lt;RETURN&gt;
YDB&gt;
</pre></div>
</div>
<p>This example shows the use of the full-screen editor to change, add, and delete (kill) nodes. When you exit from the editor, %GED checks the syntax and reports any problems. By pressing &lt;RETURN&gt;, return to the full-screen editor to fix the error. At the end of the session, %GED reports how many nodes were selected, changed, killed, and added.</p>
</section>
<section id="gi">
<span id="gi-util"></span><h3><a class="toc-backref" href="utility.html#id33">%GI</a><a class="headerlink" href="utility.html#gi" title="Permalink to this heading">¶</a></h3>
<p>%GI loads global variable names and their corresponding data values into a YottaDB database from a sequential file. %GI uses the global directory to determine which database files to use. %GI may operate concurrently with normal YottaDB database access. However, a %GI does not use M LOCKs and may produce application-level integrity problems if run concurrently with many applications.</p>
<p>In many ways, %GI is similar to MUPIP LOAD. The format of the input file (GO or ZWRITE) is automatically detected. Like MUPIP LOAD, %GI does not load YottaDB trigger definitions. Unlike MUPIP LOAD, %GI invokes triggers just like any other M code, which may yield results other than those expected or intended.</p>
<p>^%GI loads records having up to 1MiB string length.</p>
<p><strong>Prompts</strong></p>
<p>Enter input file:</p>
<p>Requests name of a file; file should be in standard Global Output (GO) format or Zwrite (ZWR) format.</p>
<p>OK &lt;Yes&gt;?: Asks for confirmation.</p>
<p><strong>Examples of %GI</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%GI
Global Input Utility
Input device &lt;terminal&gt;: DATA.GBL
Saved from users development area
YottaDB <span class="m">08</span>-FEB-2018 <span class="m">14</span>:14:09
OK &lt;Yes&gt;? &lt;RETURN&gt;
^IB ^INFO
Restored <span class="m">10</span> nodes <span class="k">in</span> <span class="m">2</span> globals
YDB&gt;
</pre></div>
</div>
</section>
<section id="go">
<span id="go-util"></span><h3><a class="toc-backref" href="utility.html#id34">%GO</a><a class="headerlink" href="utility.html#go" title="Permalink to this heading">¶</a></h3>
<p>%GO copies specified globals from the current database to a sequential output file in either GO or ZWR format. Use %GO to back up specific globals or when extracting data from the database for use by another system. %GO uses the global directory to determine which database files to use. %GO may operate concurrently with normal YottaDB database access. To ensure that a %GO reflects a consistent application state, suspend database updates to all regions involved in the extract.</p>
<p>In many ways, the %GO utility is similar to MUPIP EXTRACT (-FORMAT=GO or -FORMAT=ZWR). Like MUPIP EXTRACT, %GO does not extract and load YottaDB trigger definitions.</p>
<p><strong>Prompts</strong></p>
<p>Global^: Requests (using %GSEL) the name(s) of the globals to search; &lt;RETURN&gt; ends selection.</p>
<p>Header label: Requests text describing contents of extract file.</p>
<p>Output Format: GO or ZWR:</p>
<p>Requests the format to output the data. Defaults to ZWR.</p>
<p>Output Device: &lt;terminal&gt;:</p>
<p>Requests destination device, which may be any legal filename.</p>
<p><strong>Examples of %GO</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%GO
Global Output Utility
Global ^A
^A
Current total of <span class="m">1</span> global
Global ^&lt;RETURN&gt;
Header label: Revenues May, <span class="m">2010</span>
Output Format: GO or ZWR: ZWR
Output device: /usr/dev/out.go
^A
Total of <span class="m">1</span> node <span class="k">in</span> <span class="m">1</span> global.
YDB&gt;
</pre></div>
</div>
</section>
<section id="gse">
<span id="gse-util"></span><h3><a class="toc-backref" href="utility.html#id35">%GSE</a><a class="headerlink" href="utility.html#gse" title="Permalink to this heading">¶</a></h3>
<p>The %GSE utility finds occurrences of a string within the data values for selected global nodes and displays the variable name and data on a specified output device.</p>
<p>%GSE displays the name of each global as it is processed. You can suppress the output of the names of globals in which the search string is not found by using the QUIET utility label.</p>
<p><strong>Prompts</strong></p>
<p>Output Device: &lt;terminal&gt;:</p>
<p>Requests a destination device; defaults to the principal device.</p>
<p>Global^: Requests (using %GSEL) the name(s) of the globals to search; &lt;RETURN&gt; ends selection.</p>
<p>String: Requests a search string.</p>
<p><strong>Examples of %GSE</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;do ^%GSE
Global Search For Every Occurence
Output device: &lt;terminal&gt;: Test.dat
Global ^a &lt;RETURN&gt;
^a
Current total of <span class="m">1</span> global.
Global ^ &lt;RETURN&gt;
String: Hello
^a
^a<span class="o">(</span><span class="m">10</span><span class="o">)</span> Hello Adam
Total <span class="m">1</span> matches found <span class="k">in</span> <span class="m">25</span> nodes.
Global ^ &lt;RETURN&gt;
YDB&gt;
</pre></div>
</div>
<p>This example searches global ^a for the string “Hello” and displays all nodes that contain that string.</p>
</section>
<section id="gsel">
<span id="gsel-util"></span><h3><a class="toc-backref" href="utility.html#id36">%GSEL</a><a class="headerlink" href="utility.html#gsel" title="Permalink to this heading">¶</a></h3>
<p>The %GSEL utility selects globals. %GSEL creates a variable %ZG that is a local array of the selected globals. After each selection %GSEL displays the number of globals in %ZG.</p>
<p>%GSEL accepts the wildcard characters asterisk (*), percent sign (%) and question mark (?). The wildcards carry their usual meanings, asterisk (*) denoting a field or a portion of a field, and question mark (?) or percent sign (%) denoting a single character.</p>
<ul class="simple">
<li><p>The wildcards question mark (?) and percent sign (%) lose their meanings when in the first position of a global name.</p>
<ul>
<li><p>When ‘%’ is in the first position of a global name, %GSEL interprets it literally. For example, “%*” means all global names starting with ‘%’.</p></li>
<li><p>When you specify only ‘?’ as a global name, %GSEL displays the online help.</p></li>
<li><p>When you specify a ‘?’ followed by a ‘D’ or ‘d’, %GSEL displays the global names currently in the %ZG array.</p></li>
<li><p>%GSEL produces an error if there is ‘?’ at the first position of a global name followed by any character other than ‘D’ or ‘d’. For example, “?a” produces an error.</p></li>
</ul>
</li>
<li><p>A colon (:) between two globals specifies a range. %GSEL produces an error if you specify a ‘?’ as the first character after a colon (:).</p></li>
<li><p>A minus sign (-) or quotation mark (’)  as the first character will cause the search to remove the proceding global or range from the %ZG array.</p></li>
</ul>
<p><strong>Utility Labels</strong></p>
<p>CALL: Runs %GSEL without reinitializing %ZG.</p>
<p><strong>Output Variables</strong></p>
<p>%ZG Contains array of all globals selected.</p>
<p><strong>Prompts</strong></p>
<p>Global^: Requests a global name with optional wildcards or a range of names.</p>
<p><strong>Examples of %GSEL</strong></p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%GSEL
Global ^C
^C
Current total of 1 global
Global ^*
^S ^Y ^c ^class
Current total of 5 globals
Global ^-S
^S
Current total of 4 globals
Global ^&#39;Y
^Y
Current total of 3 globals
Global ^?D
^C ^c ^class
Current total of 3 globals
Global ^
YDB&gt;ZWRITE
%ZG=3
%ZG(&quot;^C&quot;)=&quot;&quot;
%ZG(&quot;^c&quot;)=&quot;&quot;
%ZG(&quot;^class&quot;)=&quot;&quot;
YDB&gt;
</pre></div>
</div>
<p>This example adds and subtracts globals from the list of selected globals. “?D” displays all globals selected. ZWRITE displays the contents of the %ZG array.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%GSEL
Global ^a
^a
Current total of <span class="m">1</span> global.
Global ^
YDB&gt;ZWRITE
%ZG<span class="o">=</span><span class="m">1</span>
%ZG<span class="o">(</span><span class="s2">&quot;^a&quot;</span><span class="o">)=</span><span class="s2">&quot;&quot;</span>
YDB&gt;DO CALL^%GSEL
Global ^?d
^a
Global ^iv
^iv
Current total of <span class="m">2</span> globals.
Global ^
YDB&gt;ZWRITE
%ZG<span class="o">=</span><span class="m">2</span>
%ZG<span class="o">(</span><span class="s2">&quot;^a&quot;</span><span class="o">)=</span><span class="s2">&quot;&quot;</span>
%ZG<span class="o">(</span><span class="s2">&quot;^iv&quot;</span><span class="o">)=</span><span class="s2">&quot;&quot;</span>
YDB&gt;
</pre></div>
</div>
<p>This example uses CALL^%GSEL to add to an existing %ZG array of selected globals.</p>
</section>
<section id="zshowvtolcl">
<span id="zshowvtolcl-util"></span><h3><a class="toc-backref" href="utility.html#id37">%ZSHOWVTOLCL</a><a class="headerlink" href="utility.html#zshowvtolcl" title="Permalink to this heading">¶</a></h3>
<p>The %ZSHOWVTOLCL utility restores ZSHOW “V”:gvn data into its original local variables. Invoke this utility with $ECODE set to the empty string. This utility facilitates automated restoration even of nodes exceeding the maximum record size of the global.</p>
<p><strong>Input Variables</strong></p>
<p>%ZSHOWvbase: The name of the global variable destination for ZSHOW “V”. Note that %ZSHOWVTOLCL cannot restore a local variable with the name %ZSHOWvbase.</p>
</section>
</section>
<section id="routine-utilities">
<h2><a class="toc-backref" href="utility.html#id38">Routine Utilities</a><a class="headerlink" href="utility.html#routine-utilities" title="Permalink to this heading">¶</a></h2>
<p>The routine utilities are:</p>
<p>%FL: Lists the comment lines at the beginning of source programs.</p>
<p>%RCE: Replaces every occurrence of a text string with another text string in a routine or a list of routines.</p>
<p>%RD: Lists routine names available through $ZROUTINES.</p>
<p>%RI: Loads routines from RO file to *.m files in YottaDB format.</p>
<p>%RO: Writes M source code for one or more routines to a sequential device such as a terminal, or a disk file.</p>
<p>%RSE: Searches for every occurrence of a text string in a routine or a list of routines.</p>
<p>%RSEL: Selects M routines and places their directories and names in a local array.</p>
<section id="fl">
<span id="fl-util"></span><h3><a class="toc-backref" href="utility.html#id39">%FL</a><a class="headerlink" href="utility.html#fl" title="Permalink to this heading">¶</a></h3>
<p>The %FL utility lists the comment lines at the beginning of source programs. %FL writes the routines in alphabetical order to the specified device. If the output device is not the principal device, %FL displays the name of each routine on the principal device as it writes the routine to the output device.</p>
<p>%FL uses %RSEL to select routines. For more information, see <a class="reference internal" href="utility.html#rsel-util"><span class="std std-ref">%RSEL</span></a>.</p>
<p><strong>Prompts</strong></p>
<p>Routine: Requests the name(s) of the routines (using %RSEL); &lt;RETURN&gt; ends the selection.</p>
<p>Output Device: &lt;terminal&gt;:</p>
<p>Requests a destination device; defaults to the principal device.</p>
<p><strong>Examples of %FL</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%FL
First Line Lister
Routine: %D
%D
Current total of <span class="m">1</span> routine.
Routine: %GS*
%GSE %GSEL
Current total of <span class="m">3</span> routines.
Routine: - %D
%D
Current total of <span class="m">2</span> routines.
Routine: ?D
%GSE %GSEL
Routine: &lt;RETURN&gt;
Output Device: &lt;RETURN&gt;
Routine First Line Lister Utility
YottaDB <span class="m">08</span>-FEB-2018 <span class="m">16</span>:44:09
%GSE
%GSE<span class="p">;</span>YottaDB %GSE utility - global search
<span class="p">;</span>
%GSEL<span class="p">;</span>
%GSEL<span class="p">;</span>YottaDB %GSEL utility - global <span class="k">select</span> into a <span class="nb">local</span> array
<span class="p">;</span>
<span class="p">;</span>invoke ^%GSEL to create %ZG - a <span class="nb">local</span> array of existing globals, interactively
<span class="p">;</span>
Total <span class="m">5</span> lines <span class="k">in</span> of <span class="m">2</span> routines.
YDB&gt;
</pre></div>
</div>
<p>This example selects %D, then selects %GSE and %GSEL and deselects %D. Because the example enters &lt;RETURN&gt; at the Output Device: &lt;terminal&gt;: prompt, the output goes to the principal device.</p>
</section>
<section id="rce">
<span id="rce-util"></span><h3><a class="toc-backref" href="utility.html#id40">%RCE</a><a class="headerlink" href="utility.html#rce" title="Permalink to this heading">¶</a></h3>
<p>The %RCE utility replaces every occurrence of a text string with another text string in a routine or a list of routines.</p>
<p>%RCE uses %RSEL to select routines. For more information, see <a class="reference internal" href="utility.html#rsel-util"><span class="std std-ref">%RSEL</span></a>.</p>
<p>%RCE prompts for a text string to replace and its replacement. %RCE searches for text strings in a case-sensitive manner. %RCE issues a warning message if you specify a control character such as a &lt;TAB&gt; in the text string or its replacement. %RCE confirms your selection by displaying the text string and its replacement between a left and right arrow. The arrows highlight any blank spaces that you might have included in the text string or its replacement.</p>
<p>Regardless of whether you select a display of every change, %RCE displays the name of each routine as it is processed. You can suppress the output of the names of routines in which no changes are made by using the QUIET and QCALL utility labels. %RCE completes processing with a count of replacements and routines changed.</p>
<p><strong>Prompts</strong></p>
<p>Routine: Requests (using %RSEL) the name(s) of the routines to change; &lt;RETURN&gt; ends the selection.</p>
<p>Old string: Requests string to be replaced.</p>
<p>New string: Requests replacement string.</p>
<p>Show changed lines &lt;Yes&gt;?:</p>
<p>Asks whether to display the before and after versions of the modified lines on an output device.</p>
<p>Output Device: &lt;terminal&gt;:</p>
<p>Requests a destination device; defaults to the principal device.</p>
<p><strong>Utility Labels</strong></p>
<p>CALL: Works without user interaction unless %ZR is not defined.</p>
<p><strong>Input Variables</strong></p>
<p>The following input variables are only applicable when invoking CALL^%RCE.</p>
<p>%ZR: Contains an array of routines provided or generated with %RSEL.</p>
<p>%ZF: Contains string to find.</p>
<p>%ZN: Contains a replacement string.</p>
<p>%ZD: Identifies the device to display the change trail, defaults to principal device. Make sure you open the device if the device is not the principal device.</p>
<p>%ZC: Truth-value indicating whether to display the change trail, defaults to 0 (no).</p>
<p><strong>Examples of %RCE</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%RCE
Routine Change Every occurrence
Routine: BES*
BEST BEST2 BEST3 BEST4
Current total of <span class="m">4</span> routines
Routine: &lt;RETURN&gt;
Old string:^NAME
New string:^STUDENT
Replace all occurrences of:
&gt;^NAME&lt;
With
&gt;^STUDENT&lt;
Show changed lines &lt;Yes&gt;?: &lt;RETURN&gt;
Output Device: &lt;RETURN&gt;
/usr/smith/work/BEST.m
Was: S ^NAME<span class="o">=</span>SMITH
Now: S ^STUDENT<span class="o">=</span>SMITH
Was: S ^NAME<span class="o">(</span><span class="m">1</span><span class="o">)=</span>JOHN
Now: S ^STUDENT<span class="o">(</span><span class="m">1</span><span class="o">)=</span>JOHN
/usr/smith/work/BEST2.m
/usr/smith/work/BEST3.m
Was: S ^NAME<span class="o">=</span>X
Now: S ^STUDENT<span class="o">=</span>X
Was: W ^NAME
Now: W ^STUDENT
/usr/smith/work/BEST4.m
Total of <span class="m">4</span> routines parsed.
<span class="m">4</span> occurrences changed <span class="k">in</span> <span class="m">2</span> routines.
YDB&gt;
</pre></div>
</div>
<p>This example selects a list of routines that change the string “^NAME” to the string “^STUDENT,” and displays a trail of the changes.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%RCE
Routine Change Every occurrence
Routine: BES*
BEST BEST2 BEST3 BEST4
Current total of <span class="m">4</span> routines
Routine: &lt;RETURN&gt;
Old String:&lt;TAB&gt;
The find string contains control characters
New string: &lt;RETURN&gt;
Replace all occurrences of:
&gt;&lt;TAB&gt;&lt;
With:
&gt;&lt;
Show changed lines &lt;Yes&gt;?: N
BEST BEST2 BEST3 BEST4
Total <span class="m">4</span> routines parsed.
<span class="m">4</span> occurrences changed <span class="k">in</span> <span class="m">2</span> routines.
YDB&gt;
</pre></div>
</div>
<p>This example removes all occurrences of the &lt;TAB&gt; key from specified routines and suppresses the display trail of changes.</p>
</section>
<section id="rd">
<span id="rd-util"></span><h3><a class="toc-backref" href="utility.html#id41">%RD</a><a class="headerlink" href="utility.html#rd" title="Permalink to this heading">¶</a></h3>
<p>The %RD utility lists routine names accessible through the current $ZROUTINES. %RD calls %RSEL and displays any routines accessible through %RSEL. Use %RD to locate routines.</p>
<p>%RD accepts the wildcard characters asterisk (*) and question mark (?). The wildcards carry their usual meanings, an asterisk (*) denotes a field or a portion of a field, and a question mark (?) denotes a single character in positions other than the first.</p>
<p>A colon (:) between two routine names specifies a range of routines. %RD displays only those routine names accessible through the current $ZROUTINES.</p>
<p>After each selection %RD displays the total number of routines listed.</p>
<p>Pressing &lt;RETURN&gt; exits %RD.</p>
<p><strong>Prompts</strong></p>
<p>Routine: Requests (using %RSEL) the name(s) of the routines to list; &lt;RETURN&gt; ends the selection.</p>
<p><strong>Utility Labels</strong></p>
<p>OBJ: Lists object modules accessible through the current $ZROUTINES.</p>
<p>LIB: Lists percent (%) routines accessible through the current $ZROUTINES.</p>
<p>SRC: Lists the source modules accessible through the current $ZROUTINES (same as %RD).</p>
<p><strong>Examples of %RD</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%RD
Routine directory
Routine: TAXES
TAXES
Total of <span class="m">1</span> routine
Routine:*
EMP FICA PAYROLL TAXES YTD
Total of <span class="m">5</span> Routines
Routine: &lt;RETURN&gt;
YDB&gt;
</pre></div>
</div>
<p>This example invokes %RD that prompts for routine TAXES and the wildcard (*). %RD lists five routines accessible through the current $ZROUTINES.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO OBJ^%RD
Routine directory
Routine:*
EMP FICA
Total of <span class="m">2</span> routines
Routine: &lt;RETURN&gt;
YDB&gt;
</pre></div>
</div>
<p>This example invokes %RD with the label OBJ that lists only object modules accessible through the current $ZROUTINES.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO LIB^%RD
Routine directory
%D %DATE %DH %G %GD %GSEL
YDB&gt;
</pre></div>
</div>
<p>This example invokes %RD with the LIB label that lists all the % routines accessible through the current $ZROUTINES.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO SRC^%RD
Routine directory
Routine:*
DATACHG
Total of <span class="m">1</span> routines
Routine: &lt;RETURN&gt;
YDB&gt;
</pre></div>
</div>
<p>This example invokes %RD with the label SRC that lists only source modules accessible through the current $ZROUTINES.</p>
</section>
<section id="ri">
<span id="ri-util"></span><h3><a class="toc-backref" href="utility.html#id42">%RI</a><a class="headerlink" href="utility.html#ri" title="Permalink to this heading">¶</a></h3>
<p>%RI transforms M routines in the sequential format described in the ANSI standard into individual .m files in YottaDB format. Use %RI to make M RO format accessible as YottaDB routines.</p>
<p><strong>Prompts</strong></p>
<p>Formfeed delimited &lt;No&gt;?</p>
<p>Requests whether lines should be delimited by formfeed characters rather than carriage returns.</p>
<p>Input Device: &lt;terminal&gt;:</p>
<p>Requests name of RO file containing M routines.</p>
<p>Output Directory:</p>
<p>Requests name of directory to output M routines.</p>
<p><strong>Examples of %RI</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%RI
Routine Input utility - Converts RO file to <span class="se">\*</span>.m files
Formfeed delimited &lt;No&gt;? &lt;RETURN&gt;
Input device: &lt;terminal&gt;: file.ro
Files saved from FILEMAN directory
YottaDB <span class="m">07</span>-MAY-2002 <span class="m">15</span>:17:54
Output directory: /usr/smith/work/
DI DIA DIAO DIAI DIB DIBI
Restored <span class="m">753</span> lines <span class="k">in</span> <span class="m">6</span> routines.
YDB&gt;
</pre></div>
</div>
</section>
<section id="ro">
<span id="ro-util"></span><h3><a class="toc-backref" href="utility.html#id43">%RO</a><a class="headerlink" href="utility.html#ro" title="Permalink to this heading">¶</a></h3>
<p>The %RO utility writes M source code for one or more routines to a sequential device such as, a disk file or a printer. .</p>
<p>%RO uses %RSEL to select routines. For more information, see <a class="reference internal" href="utility.html#rsel-util"><span class="std std-ref">%RSEL</span></a>.</p>
<p>%RO writes the routines in alphabetical order to the specified device. %RO displays the name of each routine as it writes the routine to the device.</p>
<p><strong>Prompts</strong></p>
<p>Routine: Requests (using %RSEL) the name(s) of the routines to output; &lt;RETURN&gt; ends selection.</p>
<p>Output device: &lt;terminal&gt;:</p>
<p>Requests a destination device; defaults to the principal device.</p>
<p>Header label: Requests text to place in the first of the two header records.</p>
<p>Strip comments &lt;No&gt;?:</p>
<p>Asks whether to remove all comment lines except those with two adjacent semicolons.</p>
<p><strong>Utility Labels</strong></p>
<p>CALL: Works without user interaction unless %ZR is not defined.</p>
<p><strong>Input Variables</strong></p>
<p>The following input variables are only applicable when invoking CALL^%RO.</p>
<p>%ZR: Contains an array of routines provided or generated with %RSEL.</p>
<p>%ZD: Identifies the device to display output, defaults to principal device.</p>
<p><strong>Examples of %RO</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%RO
Routine Output - Save selected routines into RO file.
Routine: %D
%D
Current total of <span class="m">1</span> routines.
Routine: -%D
%D
Current total of <span class="m">0</span> routines.
Routine: BEST*
BEST BEST1 BEST2
Current total of <span class="m">3</span> routines.
Routine: ?D
BEST BEST1 BEST2
Routine: &lt;RETURN&gt;
Output Device: &lt;terminal&gt;: output.txt
Header Label: Source code <span class="k">for</span> the BEST modules.
Strip comments &lt;No&gt;?:&lt;RETURN&gt;
BEST BEST1 BEST2
Total of <span class="m">53</span> lines <span class="k">in</span> <span class="m">3</span> routines
YDB&gt;
</pre></div>
</div>
<p>This example adds and subtracts %D from the selection, then adds all routines starting with “BEST” and confirms the current selection. The example sends output to the designated output file output.txt. %RO displays the label at the beginning of the output file. The first record of the header label is the text entered at the prompt. The second record of the header label consists of the word “YottaDB” and the current date and time.</p>
</section>
<section id="rse">
<span id="rse-util"></span><h3><a class="toc-backref" href="utility.html#id44">%RSE</a><a class="headerlink" href="utility.html#rse" title="Permalink to this heading">¶</a></h3>
<p>The %RSE utility searches for every occurrence of a text string in a routine or a list of routines.</p>
<p>%RSE uses %RSEL to select routines. For more information, see <a class="reference internal" href="utility.html#rsel-util"><span class="std std-ref">%RSEL</span></a>.</p>
<p>%RSE searches for text strings are case-sensitive. %RSE issues a warning message if you specify a control character such as a &lt;TAB&gt; in the text string. %RSE confirms your selection by displaying the text string between a left and right arrow. The arrows display any blank spaces included in the text string.</p>
<p>%RSE displays the name of each routine as it is processed. You can suppress the output of the names of routines in which the search string is not found by using the QUIET and QCALL utility labels.</p>
<p>%RSE completes processing with a count of occurrences found.</p>
<p><strong>Prompts</strong></p>
<p>Routine: Requests (using %RSEL) the name(s) of the routines to search; &lt;RETURN&gt; ends selection.</p>
<p>Find string: Requests string for which to search.</p>
<p>Output device: &lt;terminal&gt;:</p>
<p>Requests a destination device; defaults to the principal device.</p>
<p><strong>Utility Labels</strong></p>
<p>CALL: Works without user interaction unless %ZR is not defined.</p>
<p><strong>Input Variables</strong></p>
<p>The following input variables are only applicable when invoking CALL^%RSE.</p>
<p>%ZR: Contains an array of routines provided or generated with %RSEL.</p>
<p>%ZF: Contains the string to find.</p>
<p>%ZD: Identifies the device to display the results, defaults to principal device. Make sure you open the device if the device is not the principal device.</p>
<p><strong>Examples of %RSE</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%RSE
Routine Search <span class="k">for</span> Every occurrence
Routine: BES*
BEST BEST2 BEST3 BEST4
Current total of <span class="m">4</span> routines
Routine: &lt;RETURN&gt;
Find string:^NAME
Find all occurrences of:
&gt;^NAME&lt;
Output device: &lt;terminal&gt;:
/usr/smith/work/BEST.m
S ^NAME<span class="o">=</span>SMITH
S ^NAME<span class="o">(</span><span class="m">1</span><span class="o">)=</span>JOHN
/usr/smith/work/BEST2.m
/usr/smith/work/BEST3.m
S ^NAME<span class="o">=</span>X
W ^NAME
/usr/smith/work/BEST4.m
Total of <span class="m">4</span> routines parsed.
<span class="m">4</span> occurrences found <span class="k">in</span> <span class="m">2</span> routines.
YDB&gt;
</pre></div>
</div>
<p>This example invokes %RSE that searches and finds a given string. The output device specifies a terminal display of all lines where the text string occurs.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%RSE
Routine Search <span class="k">for</span> Every occurrence
Routine: BEST
BEST
Current total of <span class="m">1</span> routine
Routine: &lt;RETURN&gt;
Find string:^NAME
Find all occurrences of:
&gt;^NAME&lt;
Output Device: out.lis
BEST
YDB&gt;
</pre></div>
</div>
<p>This example instructs ^%RSE to write all lines where the text string occurs to an output file, out.lis.</p>
</section>
<section id="rsel">
<span id="rsel-util"></span><h3><a class="toc-backref" href="utility.html#id45">%RSEL</a><a class="headerlink" href="utility.html#rsel" title="Permalink to this heading">¶</a></h3>
<p>The %RSEL utility selects M routines. %RSEL selects routines using directories specified by the YottaDB special variable $ZROUTINES. $ZROUTINES contains an ordered list of directories that certain YottaDB functions use to locate source and object files. If $ZROUTINES is not defined, YottaDB sets it in the environment to <code class="code docutils literal notranslate"><span class="pre">$ydb_dist/libyottadbutil.so</span></code> if it exists, and to <code class="code docutils literal notranslate"><span class="pre">$ydb_dist</span></code> if it does not, and then uses that value. Other YottaDB utilities call %RSEL.</p>
<p>%RSEL prompts for the name of a routine(s).</p>
<p>%RSEL accepts the wildcard characters asterisk (*) and question mark (?). The wildcards carry their usual meanings: an asterisk (*) denotes a field or a portion of a field, and a question mark (?) denotes a single character in positions other than the first.</p>
<p>A colon (:) between two routines specifies a range.</p>
<p>%RSEL creates a read-write variable %ZR, which is a local array of selected routines. After each selection, %RSEL reports the number of routines in %ZR. A minus sign (-) or an apostrophe (’) character preceding a routine name removes that routine from the %ZR array. A question mark (?) provides online help, and “?D” displays M routines currently in the array.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a local variable %ZRSET is defined, %RSEL places the output information into a global variable (^%RSET) instead of the local variable %ZR.</p>
</div>
<p><strong>Prompts</strong></p>
<p>Routine: Requests the name(s) of the routines; &lt;RETURN&gt; ends selection.</p>
<p><strong>Utility Labels</strong></p>
<p>CALL: Performs %RSEL without reinitializing %ZR.</p>
<p>OBJ: Searches only object files.</p>
<p>SILENT: Provides non-interactive (batch) access to the functionality of %RSEL. The syntax is SILENT^%RSEL(pattern,label) where pattern is a string that specifies the routine names to be searched, label can be “OBJ”, “SRC” or “CALL”. The default value of “SRC” corresponds to ^%RSEL if invoked interactively.</p>
<p>SRC: Searches only source files (same as %RSEL).</p>
<p>SRCDIR: Returns a space separated list of directories in $ZROUTINES that can contain source code. The syntax is SRCDIR^%RSEL. Typically, the first source directory is the location where code generators should place generated source code. If there are no source directories, for example, if $ZROUTINES contains only shared libraries, SRCDIR^%RSEL returns an empty string (<code class="code docutils literal notranslate"><span class="pre">&quot;&quot;</span></code>).</p>
<p><strong>Input Variables</strong></p>
<p>The following input variables are only valid when invoking CALL^%RSEL:</p>
<p>%ZE: Contains the file extension, usually either .m for source files or .o for object files.</p>
<p>%ZR: As input, contains an existing list of routines to be modified.</p>
<p>%ZRSET: On being set, requests %RSEL to place the output in the global variable ^%RSET.</p>
<p><strong>Output Variables</strong></p>
<p>%ZR: As output, contains list of directories indexed by selected routine names.</p>
<p>^%RSET($JOB): The output global variable ^%RSET is used instead of the local variable %RD if the input variable %ZRSET is set. It is indexed by job number $JOB and the selected routine names.</p>
<p><strong>Examples of %RSEL</strong></p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%RSEL
Routine: TES*
TEST2 TEST3
Current total of <span class="m">2</span> routines
Routine: &lt;RETURN&gt;
YDB&gt;DO OBJ^%RSEL
Routine:TEST?
Current total of <span class="m">0</span> routines
Routine: &lt;RETURN&gt;
YDB&gt;ZWRITE
%ZR<span class="o">=</span><span class="m">0</span>
</pre></div>
</div>
<p>This example selects two source routines starting with “TES” as the first three characters. Then, the example invokes %RSEL at the OBJ label to select object modules only. OBJ^%RSEL returns a %ZR=0 because object modules for the TEST routines do not exist.</p>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%RSEL
Routine: BES*
BEST BEST2 BEST3 BEST4
Current total of 4 routines
Routine: - BEST
BEST
Current total of 3 routines
Routine: ?D
BEST2 BEST3 BEST4
Routine: &#39;BEST2
BEST2
Current total of 2 routines
Routine: ?D
BEST3 BEST4
Routine: &lt;RETURN&gt;
YDB&gt;ZWRITE
%ZR=2
%ZR(&quot;BEST3&quot;)=&quot;/usr/smith/work/&quot;
%ZR(&quot;BEST4&quot;)=&quot;/usr/smith/test/&quot;
YDB&gt;
</pre></div>
</div>
<p>This example selects the routines using the asterisk (*) wildcard and illustrates how to tailor your selection list. Note that %ZR contains two routines from different directories.</p>
<p>By default, %RSEL bases the contents of %ZR on source files that have a .m extension.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%RSEL
Routine:BEST*
BEST2 BEST3
Current total of <span class="m">2</span> routines
Routine: &lt;RETURN&gt;
YDB&gt;ZWRITE
%ZR<span class="o">=</span><span class="m">2</span>
%ZR<span class="o">(</span><span class="s2">&quot;BEST2&quot;</span><span class="o">)=</span><span class="s2">&quot;/usr/smith/test/&quot;</span>
%ZR<span class="o">(</span><span class="s2">&quot;BEST3&quot;</span><span class="o">)=</span><span class="s2">&quot;/usr/smith/test/&quot;</span>
</pre></div>
</div>
<p>This example creates a %ZR array with BEST2 and BEST3.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%RSEL
Routine:LOCK
LOCK
Current total of <span class="m">1</span> routine
Routine: &lt;RETURN&gt;
YDB&gt;ZWRITE
%ZR<span class="o">=</span><span class="m">1</span>
%ZR<span class="o">(</span><span class="s2">&quot;LOCK&quot;</span><span class="o">)=</span><span class="s2">&quot;/usr/smith/work/&quot;</span>
YDB&gt;DO CALL^%RSEL
Routine:BEST*
BEST2 BEST3
Current total of <span class="m">2</span> routines
Routine: &lt;RETURN&gt;
YDB&gt;ZWRITE
%ZR<span class="o">=</span><span class="m">3</span>
%ZR<span class="o">(</span><span class="s2">&quot;BEST2&quot;</span><span class="o">)=</span><span class="s2">&quot;/usr/smith/work/&quot;</span>
%ZR<span class="o">(</span><span class="s2">&quot;BEST3&quot;</span><span class="o">)=</span><span class="s2">&quot;/usr/smith/work/&quot;</span>
%ZR<span class="o">(</span><span class="s2">&quot;LOCK&quot;</span><span class="o">)=</span><span class="s2">&quot;/usr/smith/work/&quot;</span>
YDB&gt;
</pre></div>
</div>
<p>This example creates a %ZR array with LOCK and adds to it using CALL%RSEL.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;do SILENT^%RSEL<span class="o">(</span><span class="s2">&quot;myroutine&quot;</span>,<span class="s2">&quot;OBJ&quot;</span><span class="o">)</span>
</pre></div>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;ZWRITE
%ZR<span class="o">=</span><span class="m">1</span>
%ZR<span class="o">(</span><span class="s2">&quot;myroutine&quot;</span><span class="o">)=</span><span class="s2">&quot;/usr/smith/work&quot;</span>
</pre></div>
</div>
<p>This example invokes %RSEL non-interactively and creates a %ZR array for myroutine using OBJ%RSEL.</p>
</section>
</section>
<section id="internationalization-utilities">
<h2><a class="toc-backref" href="utility.html#id46">Internationalization Utilities</a><a class="headerlink" href="utility.html#internationalization-utilities" title="Permalink to this heading">¶</a></h2>
<p>The internationalization utilities are:</p>
<p>%GBLDEF: Manipulates the collation sequence assigned to a global. For more information and usage examples, refer to <a class="reference internal" href="internatn.html#use-gbldef-util"><span class="std std-ref">Using the %GBLDEF Utility</span></a>.</p>
<p>%LCLCOL: Manipulates the collation sequence assigned to local variables in an active process. For more information and usage examples, refer to <a class="reference internal" href="internatn.html#establish-local-colln-seq"><span class="std std-ref">Establishing A Local Collation Sequence</span></a>.</p>
<p>%PATCODE: Loads pattern definition files for use within an active database.</p>
<p>These utilities are an integral part of the YottaDB functionality that permits you to customize your applications for use with other languages. For a description of these utilities, refer to <a class="reference external" href="internatn.html">Chapter 12: “Internationalization”</a>.</p>
</section>
<section id="system-management-utilities">
<h2><a class="toc-backref" href="utility.html#id47">System Management Utilities</a><a class="headerlink" href="utility.html#system-management-utilities" title="Permalink to this heading">¶</a></h2>
<p>The System Management utilities are:</p>
<section id="dsewrap">
<h3><a class="toc-backref" href="utility.html#id48">%DSEWRAP</a><a class="headerlink" href="utility.html#dsewrap" title="Permalink to this heading">¶</a></h3>
<p>The %DSEWRAP utility provides a programmatic interface that drives DSE either through a PIPE device or through generated command files. The current implementation only provides access to dumping the database file header.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>%DSEWRAP is currently deprecated. Please use the %PEEKBYNAME utility to programatically read database file header information. MUPIP DUMPFHEAD and/or the %DUMPFHEAD utility provide additional alternatives.</p>
</div>
<p><strong>Utility Labels</strong></p>
<p>DUMP^%DSEWRAP(regions,.fdump,”fileheader”,”all”) : Retrieve and parse the result of the DSE’s DUMP -FILEHEADER -ALL command into the second parameter (passed by reference) for the regions contained in the local variable ‘regions’. If invoked as an extrinsic function, %DSEWRAP returns the status of DUMP -FILEHEADER -ALL command.</p>
<p>The first parameter ‘regions’ can be undefined, “”, “*” or “all” to mean all available regions.</p>
<p>The second parameter is a required passed-by-reference variable that the caller uses to retrieve data.</p>
<p>The third optional parameter defaults to DUMP -FILEHEADER. Using any other command dump command has not been tested.</p>
<p>The fourth optional parameter indicates the level of detail, -ALL, for the DUMP -FILEHEADER command. Fore more information on other -FILEHEADER qualifiers, please refer to the <a class="reference external" href="../AdminOpsGuide/dse.html">DSE chapter in the Administration and Operations Guide</a>.</p>
<p>The format of the output array is fdump(&lt;REGION NAME&gt;,&lt;FIELD NAME&gt;). In the event of a field collision, dump^%DSEWRAP avoids overwriting existing data by creating number descendants.</p>
<p>The default $ETRAP handler for %DSEWRAP terminates the application if it detects an error during input validation. Application developers must define $ETRAP prior to calling %DSEWRAP.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">$ydb</span> -run ^%XCMD <span class="s1">&#39;do dump^%DSEWRAP(&quot;DEFAULT&quot;,.dsefields,&quot;&quot;,&quot;all&quot;) zwrite dsefield&#39;</span>
</pre></div>
</div>
</section>
<section id="dumpfhead">
<h3><a class="toc-backref" href="utility.html#id49">%DUMPFHEAD</a><a class="headerlink" href="utility.html#dumpfhead" title="Permalink to this heading">¶</a></h3>
<p>The %DUMPFHEAD utility provides a programmatic interface to the functionality of MUPIP DUMPFHEAD. This routine reads the database file header directly, rather than opening it as a database and reading values mapped into memory. This means that it is lighter weight in some senses than ^%PEEKBYNAME, but it also means that the information it retrieves is more limited, and possibly less current.</p>
<p><strong>Utility Labels</strong></p>
<p>getfields^%DUMPFHEAD(fldarray,dbname) : Retrieve the file header fields provided by the MUPIP DUMPFHEAD command for the database file specified by the second parameter into the array passed by reference to the first parameter.</p>
<p>The first parameter is a required pass-by-reference variable that the caller uses to retrieve data.</p>
<p>The second parameter is the path and name for the database file on which to report information.</p>
<p>The format of the output array is fdump(sgmnt_data.&lt;FIELD NAME&gt;)=&lt;value&gt;; refer to <a class="reference internal" href="utility.html#peekbyname-util"><span class="std std-ref">%PEEKBYNAME()</span></a> for additional information on the names and values.</p>
<p>The $ETRAP handler simply QUITs as it defers error handling to the caller. Application developers should define an appropriate $ETRAP prior to calling %DUMPFHEAD.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nv">$ydb</span> -run ^%XCMD <span class="s1">&#39;do getfields^%DUMPFHEAD(.fields,&quot;yottadb.dat&quot;) zwrite fields&#39;</span>
</pre></div>
</div>
</section>
<section id="freecnt">
<span id="freecnt-util"></span><h3><a class="toc-backref" href="utility.html#id50">%FREECNT</a><a class="headerlink" href="utility.html#freecnt" title="Permalink to this heading">¶</a></h3>
<p>The %FREECNT utility displays the number of free blocks in the database files associated with the current global directory.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;DO ^%FREECNT
Region          Free     Total          Database file
------          ----     -----          -------------
DEFAULT           <span class="m">81</span>       <span class="m">100</span> <span class="o">(</span> <span class="m">81</span>.0%<span class="o">)</span> /home/yottadbuser1/.yottadb/r1.20_x86/g/yottadb.dat

YDB&gt;
</pre></div>
</div>
<p>This example invokes %FREECNT at the YDB&gt; prompt that displays the number of free blocks and percentage of free space available in the current global directory.</p>
</section>
<section id="peekbyname">
<span id="peekbyname-util"></span><h3><a class="toc-backref" href="utility.html#id51">%PEEKBYNAME()</a><a class="headerlink" href="utility.html#peekbyname" title="Permalink to this heading">¶</a></h3>
<p>%PEEKBYNAME() provides a stable interface to $ZPEEK() that uses control structure field names. $ZPEEK() provides a read-only mechanism to access selected fields in selected control structures in the address space of a process, including process private memory, database shared memory segments and Journal Pools. Although application code can call $ZPEEK() directly, such direct access must use numeric arguments that can vary from release to release. Access by name using %PEEKBYNAME makes application code more stable across YottaDB releases. For more information, refer to <a class="reference internal" href="functions.html#zpeek-function"><span class="std std-ref">$ZPEEK()</span></a>. YottaDB intends to maintain the stability of a name from release to release where that name refers to the same data item; however, we may add or obsolete names, or modify the type and size associated with existing names at our discretion, to reflect changes in the implementation. The format of the %PEEKBYNAME() function is:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>%PEEKBYNAME(field[,regindex[,format[,gldpath]]])
</pre></div>
</div>
<ul class="simple">
<li><p>The first expression specifies the memory location to access in the format: CONTROL_BLOCK[.FIELD].* (For example, “gd_region.max_key_size”).</p></li>
<li><p>The optional second expression specifies a region name, structure index or a base address associated with the first (field name) argument. The choice is governed by the following rules applied in the following order:</p>
<ol class="arabic simple">
<li><p>If the value is a hex value in the form of 0xhhhhhhhh[hhhhhhhh], then PEEKBYNAME uses it as the base address of the data to fetch. Also in this case, the offset, length, and type are taken from the field specified in the first expression (field). For more information, see the description of the “PEEK” mnemonic in <a class="reference internal" href="functions.html#zpeek-function"><span class="std std-ref">$ZPEEK()</span></a>.</p></li>
<li><p>If the first expression refers to one of the region-related structures supported by the $ZPEEK() function, PEEKBYNAME treats this second expression as a region name.</p></li>
<li><p>If the first expression refers to one of the replication related structures supported by the $ZPEEK() function that are indexed, PEEKBYNAME treats this second expression as a numerical (base 10) index value.</p></li>
<li><p>For those structures supported by the $ZPEEK() function that do not accept an argument, this second expression must be NULL or not specified.</p></li>
</ol>
</li>
<li><p>The optional third expression specifies the output format in one character as defined in the “format” argument in the $ZPEEK() documentation. This argument overrides the automatic format detection by the %PEEKBYNAME utility.</p></li>
<li><p>The optional fourth argument is a global directory referencing the <code class="code docutils literal notranslate"><span class="pre">ydbhelp.gld</span></code> for accesssing the <code class="code docutils literal notranslate"><span class="pre">ydbhelp.dat</span></code> file.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>; Print the maximum key size for the DEFAULT region
YDB&gt;write $$^%PEEKBYNAME(&quot;gd_region.max_key_size&quot;,&quot;DEFAULT&quot;)
64
; Print the journaling state (non-zero value means it is on)
YDB&gt;write $$^%PEEKBYNAME(&quot;gd_region.jnl_state&quot;,&quot;DEFAULT&quot;)
0
; Save the base address of the database file header
YDB&gt;set base=$$^%PEEKBYNAME(&quot;sgmnt_addrs.hdr&quot;,&quot;DEFAULT&quot;)
; Print the file header label
YDB&gt;write $$^%PEEKBYNAME(&quot;sgmnt_data.label&quot;,base)
GDSDYNUNX03
</pre></div>
</div>
<p><strong>LISTALL^%PEEKBYNAME</strong></p>
<p>Prints all the field mnemonics acceptable as the first argument to %PEEKBYNAME().</p>
<p><strong>LIST^%PEEKBYNAME(.output)</strong></p>
<p>Populates output variable with the type and size information indexed by the field mnemonics for all %PEEKBYNAME()-acceptable fields. For example, output(“gd_region.jnl_file_name”)=”unsigned-char,256”.</p>
<p><strong>Labels for selected fields</strong></p>
<p>Below are selected fields for which you may find %PEEKBYNAME to be a useful alternative to running a DSE or MUPIP command in a PIPE device, and parsing the output. If there is a field that you wish to access using %PEEKBYNAME, please send questions to your YottaDB support channel. We will get you an answer, and if it seems to us to be of general interest, we will add it to the %PEEKBYNAME user documentation.</p>
<p><strong>Region Parameters</strong></p>
<p>Calls to %PEEKBYNAME with the listed string as value of the first parameter, and the region name as the value of the second parameter, return the value. For example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;write <span class="nv">$$</span>^%PEEKBYNAME<span class="o">(</span><span class="s2">&quot;sgmnt_data.n_bts&quot;</span>,<span class="s2">&quot;DEFAULT&quot;</span><span class="o">)</span> <span class="p">;</span> How many global buffers there are
<span class="m">1000</span>
YDB&gt;write <span class="nv">$$</span>^%PEEKBYNAME<span class="o">(</span><span class="s2">&quot;node_local.wcs_active_lvl&quot;</span>,<span class="s2">&quot;DEFAULT&quot;</span><span class="o">)</span> <span class="p">;</span> How many of them are dirty
<span class="m">0</span>
YDB&gt;for <span class="nv">i</span><span class="o">=</span><span class="m">1</span>:1:10000 <span class="nb">set</span> ^x<span class="o">(</span><span class="nv">$$</span>^%RANDSTR<span class="o">(</span><span class="m">8</span><span class="o">))=</span><span class="nv">$$</span>^%RANDSTR<span class="o">(</span><span class="m">64</span><span class="o">)</span>
YDB&gt;write <span class="nv">$$</span>^%PEEKBYNAME<span class="o">(</span><span class="s2">&quot;node_local.wcs_active_lvl&quot;</span>,<span class="s2">&quot;DEFAULT&quot;</span><span class="o">)</span> <span class="p">;</span> And now, how many of them are dirty
<span class="m">377</span>
YDB&gt;write <span class="nv">$ZPIECE</span><span class="o">(</span><span class="nv">$$</span>^%PEEKBYNAME<span class="o">(</span><span class="s2">&quot;gd_region.open&quot;</span>,<span class="s2">&quot;DEFAULT&quot;</span><span class="o">)</span>,<span class="nv">$ZCHAR</span><span class="o">(</span><span class="m">0</span><span class="o">)</span>,1<span class="o">)</span> <span class="p">;</span> display <span class="k">if</span> DEFAULT region is open <span class="o">(</span><span class="m">1</span><span class="o">)</span> or not <span class="o">(</span><span class="m">0</span><span class="o">)</span>
<span class="m">1</span>
YDB&gt;write <span class="nv">$ZPIECE</span><span class="o">(</span><span class="nv">$$</span>^%PEEKBYNAME<span class="o">(</span><span class="s2">&quot;gd_segment.fname&quot;</span>,<span class="s2">&quot;AREG&quot;</span><span class="o">)</span>,<span class="nv">$ZCHAR</span><span class="o">(</span><span class="m">0</span><span class="o">)</span>,1<span class="o">)</span> <span class="p">;</span> display database file name <span class="k">for</span> AREG region
YDB&gt;
</pre></div>
</div>
<p>When using the following, remember to write code that allows for values other than those listed, e.g., if writing code to check whether before image journaling is in use, make sure it can deal with values other than 0 and 1, because a future release of YottaDB can potentially introduce a new return value for a field.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 23%" />
<col style="width: 62%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>^%PEEKBYNAME() Parameter</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Asynchronous I/O</p></td>
<td><p>“sgmnt_data.asyncio”</p></td>
<td><p>TRUE (1) if the region has asynchronous I/O enabled and FALSE (0) if it does not</p></td>
</tr>
<tr class="row-odd"><td><p>Block size</p></td>
<td><p>“sgmnt_data.blk_size”</p></td>
<td><p>Integer number of bytes</p></td>
</tr>
<tr class="row-even"><td><p>Commit wait spin count</p></td>
<td><p>“sgmnt_data.wcs_phase2_commit_wait_spincnt”</p></td>
<td><p>Integer Count</p></td>
</tr>
<tr class="row-odd"><td><p>Current transaction</p></td>
<td><p>“sgmnt_data.trans_hist.curr_tn”</p></td>
<td><p>Integer Count</p></td>
</tr>
<tr class="row-even"><td><p>Database file name</p></td>
<td><p>“gd_segment.fname”</p></td>
<td><p>String of text. See example above for how to use.</p></td>
</tr>
<tr class="row-odd"><td><p>Defer allocate</p></td>
<td><p>“sgmnt_data.defer_allocate”</p></td>
<td><p>Integer - 1 means DEFER_ALLOCATE, 0 means NODEFER_ALLOCATE</p></td>
</tr>
<tr class="row-even"><td><p>Encryption key hash</p></td>
<td><p>“sgmnt_data.encryption_hash”</p></td>
<td><p>String of binary bytes</p></td>
</tr>
<tr class="row-odd"><td><p>Extension size</p></td>
<td><p>“sgmnt_data.extension_size”</p></td>
<td><p>Integer number of blocks</p></td>
</tr>
<tr class="row-even"><td><p>Flush trigger</p></td>
<td><p>“sgmnt_data.flush_trigger”</p></td>
<td><p>Integer number of blocks (not meaningful for MM)</p></td>
</tr>
<tr class="row-odd"><td><p>Journal align size</p></td>
<td><p>“sgmnt_data.alignsize”</p></td>
<td><p>Integer number of bytes</p></td>
</tr>
<tr class="row-even"><td><p>Journal autoswitch limit</p></td>
<td><p>“sgmnt_data.autoswitchlimit”</p></td>
<td><p>Integer number of bytes for maximum size of each journal file</p></td>
</tr>
<tr class="row-odd"><td><p>Journal before imaging</p></td>
<td><p>“sgmnt_data.jnl_before_image”</p></td>
<td><p>Integer - 1 means BEFORE image journaling, 0 means NOBEFORE (meaningful only if journaling is on)</p></td>
</tr>
<tr class="row-even"><td><p>Journal buffer size</p></td>
<td><p>“sgmnt_data.jnl_buffer_size”</p></td>
<td><p>Integer number of journal buffers</p></td>
</tr>
<tr class="row-odd"><td><p>Journal epoch interval</p></td>
<td><p>“sgmnt_data.epoch_interval”</p></td>
<td><p>Integer number of seconds</p></td>
</tr>
<tr class="row-even"><td><p>Journal next write offset</p></td>
<td><p>“jnl_buffer.dskaddr”</p></td>
<td><p>Integer number of bytes from beginning of journal file</p></td>
</tr>
<tr class="row-odd"><td><p>Journal next epoch time</p></td>
<td><p>“jnl_buffer.next_epoch_time”</p></td>
<td><p>Integer number of seconds since January 1, 1970 00:00:00 UTC</p></td>
</tr>
<tr class="row-even"><td><p>Journal state</p></td>
<td><p>“sgmnt_data.jnl_state”</p></td>
<td><p>Integer 0 means disabled, 1 means enabled but off, 2 means on</p></td>
</tr>
<tr class="row-odd"><td><p>Journal SYNCIO</p></td>
<td><p>“sgmnt_data.jnl_sync_io”</p></td>
<td><p>Integer - 1 means SYNC_IO, 0 means NOSYNC_IO</p></td>
</tr>
<tr class="row-even"><td><p>Journal yield limit</p></td>
<td><p>“sgmnt_data.yield_lmt”</p></td>
<td><p>Integer count</p></td>
</tr>
<tr class="row-odd"><td><p>Lock space</p></td>
<td><p>“sgmnt_data.lock_space_size”</p></td>
<td><p>Integer number of bytes</p></td>
</tr>
<tr class="row-even"><td><p>Maximum key size</p></td>
<td><p>“sgmnt_data.max_key_size”</p></td>
<td><p>Integer number of bytes</p></td>
</tr>
<tr class="row-odd"><td><p>Maximum record size</p></td>
<td><p>“sgmnt_data.max_rec_size”</p></td>
<td><p>Integer number of bytes</p></td>
</tr>
<tr class="row-even"><td><p>Mutex hard spin count</p></td>
<td><p>“sgmnt_data.mutex_spin_parms.mutex_hard_spi
n_count”</p></td>
<td><p>Integer count</p></td>
</tr>
<tr class="row-odd"><td><p>Mutex sleep spin count</p></td>
<td><p>“sgmnt_data.mutex_spin_parms.mutex_sleep_spi
n_count”</p></td>
<td><p>Integer count</p></td>
</tr>
<tr class="row-even"><td><p>Null subscripts</p></td>
<td><p>“sgmnt_data.null_subs”</p></td>
<td><p>Integer - 0 means disabled, 1 means enabled, 2 means existing null subscripts are respected but new ones cannot be created</p></td>
</tr>
<tr class="row-odd"><td><p>Number of global buffers
(dirty)</p></td>
<td><p>“node_local.wcs_active_lvl”</p></td>
<td><p>Integer Count</p></td>
</tr>
<tr class="row-even"><td><p>Number of global buffers
(total)</p></td>
<td><p>“sgmnt_data.n_bts”</p></td>
<td><p>Integer Count</p></td>
</tr>
<tr class="row-odd"><td><p>Number of processes accessing
the database</p></td>
<td><p>“node_local.ref_cnt”</p></td>
<td><p>Integer count (always greater than zero, because the process running %PEEKBYNAME has the database open)</p></td>
</tr>
<tr class="row-even"><td><p>Region open</p></td>
<td><p>“gd_region.open”</p></td>
<td><p>Boolean. See example above for how to use.</p></td>
</tr>
<tr class="row-odd"><td><p>Region replication sequence
number</p></td>
<td><p>“sgmnt_data.reg_seqno”</p></td>
<td><p>Integer Count</p></td>
</tr>
<tr class="row-even"><td><p>Report number of maximum
processes concurrently
accessing a database region</p></td>
<td><p>“node_local.max_procs”</p></td>
<td><p>Two comma separated integers. First is the integer count of the maximum number of processes that concurrently accessed that
database region, and the second is the integer count of the number of seconds since January 1, 1970 00:00:00 UTC at which
that number of processes was recorded.</p></td>
</tr>
<tr class="row-odd"><td><p>Spanning nodes absent</p></td>
<td><p>“sgmnt_data.span_node_absent”</p></td>
<td><p>Integer - 1 means that no global variable nodes span multiple database blocks, 0 means YottaDB does not know (in the
past, at least one global variable node spanned multiple blocks, but it may since have been overwritten or KILL’d)</p></td>
</tr>
<tr class="row-even"><td><p>Write errors</p></td>
<td><p>“sgmnt_data.wcs_wterror_invoked_cntr”</p></td>
<td><p>Integer count of errors trying to write database blocks - barring problems with the storage subsystem, hitting an
asynchronous write limit constitute the primary (probably only) cause</p></td>
</tr>
<tr class="row-odd"><td><p>Writes in progress</p></td>
<td><p>“node_local.wcs_wip_lvl”</p></td>
<td><p>Integer count of blocks for which YottaDB has issued writes that have not yet been recognized as complete</p></td>
</tr>
</tbody>
</table>
<p><strong>Replication Parameters</strong></p>
<p>Calls to %PEEKBYNAME with the listed parameter as the first or only parameter return replication fields as described. For example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;write <span class="nv">$$</span>^%PEEKBYNAME<span class="o">(</span><span class="s2">&quot;repl_inst_hdr.inst_info.this_instname&quot;</span><span class="o">)</span> <span class="p">;</span> Name of this instance
Collegeville
YDB&gt;write <span class="nv">$$</span>^%PEEKBYNAME<span class="o">(</span><span class="s2">&quot;gtmsource_local_struct.secondary_instname&quot;</span>,0<span class="o">)</span> <span class="p">;</span> Name of instance <span class="k">in</span> slot <span class="m">0</span> of replication instance file
Malvern
YDB&gt;set <span class="nv">x</span><span class="o">=</span><span class="nv">$$</span>^%PEEKBYNAME<span class="o">(</span><span class="s2">&quot;jnlpool_ctl_struct.jnl_seqno&quot;</span><span class="o">)</span> <span class="p">;</span> Sequence number <span class="k">in</span> Journal Pool of Collegeville
YDB&gt;set <span class="nv">y</span><span class="o">=</span><span class="nv">$$</span>^%PEEKBYNAME<span class="o">(</span><span class="s2">&quot;gtmsource_local_struct.read_jnl_seqno&quot;</span>,0<span class="o">)</span> <span class="p">;</span> Next sequence number to send to Malvern
YDB&gt;write x-y <span class="p">;</span> Current replication backlog from Collegeville to Malvern
<span class="m">2</span>
YDB&gt;
</pre></div>
</div>
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 37%" />
<col style="width: 39%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Replication Parameter</p></th>
<th class="head"><p>^%PEEKBYNAME() Parameter</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Instance Freeze</p></td>
<td><p>“jnlpool_ctl_struct.instfreeze_environ_inited”</p></td>
<td><p>Integer 1 means Instance Freeze is enabled; 0 means Instance
Freeze is disabled</p></td>
</tr>
<tr class="row-odd"><td><p>Journal sequence number</p></td>
<td><p>“jnlpool_ctl_struct.jnl_seqno”</p></td>
<td><p>Integer</p></td>
</tr>
<tr class="row-even"><td><p>Journal sequence number to send to
receiving instance in replication
file slot</p></td>
<td><p>“gtmsource_local_struct.read_jnl_seqno”,i where i is the
slot number in the replication instance file</p></td>
<td><p>Integer</p></td>
</tr>
<tr class="row-odd"><td><p>Name of receiving instance in
replication instance file slot</p></td>
<td><p>“gtmsource_local_struct.secondary_instname”,i where i is
the slot number in the replication instance file</p></td>
<td><p>String of text</p></td>
</tr>
<tr class="row-even"><td><p>Name of this instance</p></td>
<td><p>“repl_inst_hdr.inst_info.this_instname”</p></td>
<td><p>String of text</p></td>
</tr>
<tr class="row-odd"><td><p>Supplementary Replication</p></td>
<td><p>“repl_inst_hdr.is_supplementary”</p></td>
<td><p>Integer - 1 means supplementary instance; 0 means not
supplementary instance</p></td>
</tr>
<tr class="row-even"><td><p>Updates disabled</p></td>
<td><p>“jnlpool_ctl_struct.upd_disabled”</p></td>
<td><p>Integer - 1 means updates disabled; 0 means updates
permitted</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>%PEEKBYNAME opens the -READ_ONLY help database as part of its operation, and in so doing causes each process using it to create a private semaphore. In addition, the first process to access a database creates an ftok related semaphore, which in the case of a -READ_ONLY database remains until deleted by a MUPIP RUNDOWN.</p>
</div>
</section>
<section id="xcmd">
<h3><a class="toc-backref" href="utility.html#id52">%XCMD</a><a class="headerlink" href="utility.html#xcmd" title="Permalink to this heading">¶</a></h3>
<p>The ^%XCMD utility XECUTEs input from the shell command line and returns any error status (truncated to a single byte on UNIX) generated by that code.</p>
<p><strong>Utility Labels</strong></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>LOOP^%XCMD [--before=/&lt;XECUTE_code&gt;/] --xec=/&lt;XECUTE_code&gt;/ [--after=/&lt;XECUTE_code&gt;/]
</pre></div>
</div>
<p>LOOP^%XCMD: XECUTEs the arguments specified in –xec=/arg1/ as YottaDB code for each line of standard input that it reads. The currently read line is stored in the variable %l; its line number is stored in %NR (starts from 1). It returns any error status (truncated to a single byte on UNIX) generated by that code.</p>
<p>–before=/arg0/ specifies the YottaDB code that LOOP^%XCMD must XECUTE before executing –xec.</p>
<p>–after=/arg2/ specifies the YottaDB code that LOOP^%XCMD must XECUTE after executing the last –xec.</p>
<p>For all qualifiers, always wrap YottaDB code specified two forward slashes (/) to denote the start and end of the YottaDB code. YottaDB strongly recommends enclosing the code within single quotation marks to prevent inappropriate expansion by the shell. LOOP^%XCMD’s command line parser ignores these forward slashes.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>/usr/local/lib/yottadb/r120/ydb -run %XCMD <span class="s1">&#39;write &quot;hello world&quot;,!&#39;</span>
</pre></div>
</div>
<p>produces the following output:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;hello world&quot;</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ ps -ef <span class="p">|</span> <span class="nv">$gtm_exe</span>/yottadb -run LOOP^%XCMD --before<span class="o">=</span><span class="s1">&#39;/set user=$ztrnlnm(&quot;USER&quot;) write &quot;Number of processes owned by &quot;,user,&quot; : &quot;/&#39;</span> --xec<span class="o">=</span><span class="s1">&#39;/if %l[user,$increment(x)/&#39;</span> --after<span class="o">=</span><span class="s1">&#39;/write x,\!/&#39;</span>
Number of processed owned by jdoe: <span class="m">5</span>
$
$ cat somefile.txt <span class="p">|</span> <span class="nv">$gtm_exe</span>/yottadb -run LOOP^%XCMD --before<span class="o">=</span><span class="s1">&#39;/write &quot;Total number of lines : &quot;/&#39;</span> --xec<span class="o">=</span><span class="s1">&#39;/set total=$increment(x)/&#39;</span> --after<span class="o">=</span><span class="s1">&#39;/write total,\!/&#39;</span>
Total number of lines: <span class="m">9</span>
$
$ cat somefile.txt <span class="p">|</span> <span class="nv">$gtm_exe</span>/yottadb -run LOOP^%XCMD --after<span class="o">=</span><span class="s1">&#39;/write &quot;Total number of lines : &quot;,%NR,\!/&#39;</span>
Total number of lines: <span class="m">9</span>
$
$ <span class="nv">$gtm_exe</span>/yottadb -run LOOP^%XCMD --before<span class="o">=</span><span class="s1">&#39;/set f=&quot;somefile.txt&quot; open f:readonly use f/&#39;</span> --after<span class="o">=</span><span class="s1">&#39;/use $p write &quot;Total number of lines in &quot;,f,&quot;: &quot;,%NR,\!/&#39;</span>
Total number of lines <span class="k">in</span> somefile.txt: <span class="m">9</span>
$
</pre></div>
</div>
</section>
<section id="ydbprocstuckexec">
<h3><a class="toc-backref" href="utility.html#id53">%YDBPROCSTUCKEXEC</a><a class="headerlink" href="utility.html#ydbprocstuckexec" title="Permalink to this heading">¶</a></h3>
<p>%YDBPROCSTUCKEXEC is a standard utility program to capture diagnostics when invoked by the <a class="reference external" href="../AdminOpsGuide/basicops.html#ydb-procstuckexec-env-var">ydb_procstuckexec</a> mechanism. To use it, set the <code class="code docutils literal notranslate"><span class="pre">ydb_procstuckexec</span></code> environment variable to <code class="code docutils literal notranslate"><span class="pre">$ydb_dist/yottadb</span> <span class="pre">-run</span> <span class="pre">%YDBPROCSTUCKEXEC</span></code> with <code class="code docutils literal notranslate"><span class="pre">$ydb_dist</span></code> expanded to the actual directory where YottaDB is installed, or to <code class="code docutils literal notranslate"><span class="pre">yottadb</span> <span class="pre">-run</span> <span class="pre">%YDBPROCSTUCKEXEC</span></code> when <code class="code docutils literal notranslate"><span class="pre">yottadb</span></code> is located by <code class="code docutils literal notranslate"><span class="pre">$PATH</span></code>. Also <code class="code docutils literal notranslate"><span class="pre">$ydb_dist/libyottadbutil.so</span></code> must be in the routine search path defined by <code class="code docutils literal notranslate"><span class="pre">$ydb_routines</span></code> at process startup, or in the <code class="code docutils literal notranslate"><span class="pre">$ZROUTINES</span></code> intrinsic special variable.</p>
<p>When invoked by <code class="code docutils literal notranslate"><span class="pre">yottadb</span> <span class="pre">-run</span> <span class="pre">%YDBPROCSTUCKEXEC</span> <span class="pre">&lt;msg&gt;</span> <span class="pre">&lt;callingpid&gt;</span> <span class="pre">&lt;blockingpid&gt;</span> <span class="pre">&lt;count&gt;</span></code> as described in the ydb_procstuckexec documentation, it creates in the directory specified by <code class="code docutils literal notranslate"><span class="pre">$ydb_log</span></code>, <code class="code docutils literal notranslate"><span class="pre">$gtm_log</span></code>, <code class="code docutils literal notranslate"><span class="pre">$ydb_tmp</span></code>, or <code class="code docutils literal notranslate"><span class="pre">$gtm_tmp</span></code> (defaulting to <code class="code docutils literal notranslate"><span class="pre">/tmp</span></code>) a file whose name is <code class="code docutils literal notranslate"><span class="pre">%YDBPROCSTUCKEXEC_&lt;date&gt;,&lt;time&gt;_&lt;msg&gt;_&lt;callingpid&gt;_&lt;blockingpid&gt;_&lt;count&gt;_&lt;%YDBPROCSTUCEXECpid&gt;.out</span></code> where the , timestamp is generated by <a class="reference internal" href="functions.html#zdate-function"><span class="std std-ref">$ZDATE()</span></a> with a format string of <code class="code docutils literal notranslate"><span class="pre">&quot;YEAR.MM.DD,24.60.SS&quot;</span></code>, e.g., <code class="code docutils literal notranslate"><span class="pre">%YDBPROCSTUCKEXEC_2020.05.22,17.58.38_ABCD_91998_91987_1_92045.out</span></code>.</p>
<p>The file contains:</p>
<blockquote>
<div><ul class="simple">
<li><p>A summary of the invocation, e.g., Invoked on 91987 by 91998 for 1st time; reason: MUTEXLCKALERT.</p></li>
<li><p>The command line of the blocking process.</p></li>
<li><p>The environment of the blocking process.</p></li>
<li><p>The value of /proc/sys/kernel/yama/ptrace_scope (if non-zero, gdb may not be able to capture the blocking process for a snapshot of its state).</p></li>
<li><p>A snapshot of the state of the blocking process, captured by gdb.</p></li>
<li><p>The value returned by <a class="reference internal" href="functions.html#zsigproc-function"><span class="std std-ref">$ZSIGPROC()</span></a> used to send SIGUSR1 (a <a class="reference external" href="../AdminOpsGuide/dbmgmt.html#mupip-intrpt">MUPIP INTRPT</a>) to the blocking pid. If appropriately configured (with <a class="reference external" href="../AdminOpsGuide/basicops.html#ydb-zinterrupt-env-var">ydb_zinterrupt</a> / <a class="reference internal" href="isv.html#zinterrupt-isv"><span class="std std-ref">$ZINTERRUPT</span></a>, the blocking process will create a dump file of its process state.</p></li>
</ul>
</div></blockquote>
<p>If the calling pid and blocking pid are of different uids, the functionality of %YDBPROCSTUCKEXEC is reduced. Depending on security and system administration considerations of the system, it may be appropriate in such cases to create a small setuid root shell script to invoke %YDBPROCSTUCKEXEC. Depending your specific requirements, it may be appropriate to copy and adapt the standard routine for your environment.</p>
<p>%YDBPROCSTUCKEXEC was added to YottaDB effective release <a class="reference external" href="https://gitlab.com/YottaDB/DB/YDB/-/tags/r1.30">r1.30.</a>.</p>
</section>
<section id="ygblstat">
<span id="ygblstat-util"></span><h3><a class="toc-backref" href="utility.html#id54">%YGBLSTAT()</a><a class="headerlink" href="utility.html#ygblstat" title="Permalink to this heading">¶</a></h3>
<p>Labels in the ^%YGBLSTAT utility program gather and report statistics, offering both a high level API and a low level API. While we intend to preserve backward compatibility of the high level API in future YottaDB releases, we may change the low level API if and, when, we change the underlying implementation. A call to a label in ^%YGBLSTAT does not in any way slow the execution of other processes. Because the gathering of statistics is not instantaneous, and processes concurrently open database files as well as close them on exit and may turn their participation in statistics monitoring on and off, statistics typically do not show a single moment in time, as they change during the short time interval over which they are gathered.</p>
<p>In the following, an omitted response or argument is equivalent to “*”.</p>
<p>The high level API implemented by $$STAT^%YGBLSTAT(expr1[,expr2[,expr3[,expr4]]]) reports global variable statistics and has arguments as follows:</p>
<ul class="simple">
<li><p>expr1 (treated as an intexpr - coercing an expr to an integer is equivalent to +(expr)) specifies the PID of a process on which to report; if such a process does not exist, has not opted in, or no database file mapped by expr3 and expr4 includes statistics for such a process, the function returns an empty string. Specifying “*” as the value of expr1 returns the aggregate statistic(s) specified by expr2 for all processes whose statistics are included in the database file(s) of the region(s) specified by expr4 within the global directory specified by expr3, or the empty string if there are no statistics to report for any process.</p></li>
<li><p>expr2 specifies the statistic(s) to report as follows:</p>
<ul>
<li><p>If expr2 is a single statistic, for example, “LKF”, the function returns the requested value as an integer</p></li>
<li><p>If expr2 is a series of comma-separated names of statistics, for example., “GET,DTA”, the function returns a string with each requested statistic in ZSHOW “G” order, for example, “GET:3289,DTA:598…”, rather than in the order in which they appear within the specifying argument.</p></li>
<li><p>If expr2 is omitted, or consists of the string “*”, the return value reports all statistics formatted like the ZSHOW “G” statistics for a single region, for example, “SET:563,KIL:39,GET:3289,DTA:598…</p></li>
</ul>
</li>
<li><p>expr3 specifies a global directory file name (producing a ZGBLDIRACC error if such a global directory is not accessible); if unspecified, the utility defaults this value to $ZGBLDIR of the invoking process.</p></li>
<li><p>expr4 specifies the name of a region (producing a NOREGION error if no such region exists in the global directory expr3); if expr4 is unspecified, or the string “*”, the function returns statistics for the process or processes summed across all regions of the global directory explicitly or implicitly specified by expr3.</p></li>
</ul>
<p>When invoked as an interactive utility program using DO, ^%YGBLSTAT, prompts for:</p>
<ul class="simple">
<li><p>the process id (respond * for all processes).</p></li>
<li><p>a comma separated list of the statistics desired (respond * for all statistics).</p></li>
<li><p>the global directory to use.</p></li>
<li><p>region (respond * to report statistics summed across all regions).</p></li>
</ul>
<p>When invoked from a shell, the command line is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ yottadb -run %YGBLSTAT <span class="o">[</span>--help<span class="o">]</span> <span class="o">[</span>--pid pidlist<span class="o">]</span> <span class="o">[</span>--reg reglist<span class="o">]</span> <span class="o">[</span>--stat statlist<span class="o">]</span>
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><p>pidlist is a single pid, or “*” (quoted to protect it from expansion by the shell) for all processes currently sharing statistics.</p></li>
<li><p>reglist is a single region name in the global directory specified by $ydb_gbldir, or “*” to report statistics summed across all regions.</p></li>
<li><p>statlist is one or more comma separated statistics, or “*”.</p></li>
<li><p>When statlist specifies a list of statistics, %YGBLSTAT reports them in the same order in which ZSHOW “G” reports those statistics, rather than in the order in which they appear within the specifying argument.</p></li>
</ul>
<p>^%YGBLSTAT returns an empty string for any process that has not shared statistics on any region sought by the invoking arguments. The most interesting class of such processes are probably non-YottaDB processes, but it also includes YottaDB processes that are not sharing.</p>
<p>$$IN^%YGBLSTAT(&lt;pid&gt;,&lt;global directory&gt;,&lt;region&gt;) is used to query whether a process is sharing statistics, returning a TRUE (1) value if the process is sharing statistics in the region, a FALSE (0) if it is not, and an empty string if the pid is invalid or there is no sharing for a region of the specified name. If region is empty or an asterisk, the extrinsic returns a TRUE if the process is sharing statistics in any region, and a FALSE otherwise. If the global directory is not empty the function attempts to use it, but if it is unavailable the function fails into the invoking environment’s specified $ETRAP or $ZTRAP.</p>
<p>$$IN^%YGBLSTAT() was implemented effective release <a class="reference external" href="https://gitlab.com/YottaDB/DB/YDB/-/tags/r1.30">r1.30.</a></p>
<p>$$ORDERPID^%YGBLSTAT(expr1[,expr2[,expr3]]) reports PIDs of processes that have opted in and recorded statistics. Its arguments are as follows:</p>
<ul class="simple">
<li><p>expr1 coerced to an intexpr specifies a PID such that the function returns the next PID after expr1 of a process that has opted in to be monitored and which has recorded statistics in any region(s) specified by expr3 from the global directory specified by expr2, or the empty string if expr1 is the last PID. A value of the empty string (“”) for expr1 returns the first monitored PID meeting the specifications in expr2 and expr3.</p></li>
<li><p>expr2 specifies a global directory file name (producing a ZGBLDIRACC error if such a global directory is not accessible); if unspecified or the empty string, the utility defaults this value to the $ZGBLDIR of the invoking process.</p></li>
<li><p>expr3 evaluates to the name of a region (producing a NOREGION error if no such region exists in the global directory specified by expr2); of expr3 is unspecified, or the string “*”, the function returns the PID for the next process after expr1 for any region of the global directory specified by expr2.</p></li>
<li><p>Applications should not rely on YottaDB returning the PIDs in a sorted or other predictable order: the order in which PIDs are returned is at the discretion of the implementation, and may change from release to release.</p></li>
</ul>
<p>The low level API implemented by $$SHOW^%YGBLSTAT(glvn[,strexp]) reports raw statistics of a process and has arguments as follows:</p>
<ul class="simple">
<li><p>glvn specifies a node containing raw statistics for a process</p></li>
<li><p>the raw data is stored in uniquely managed database files as ^%YGS(expr1,expr2) where:</p>
<ul>
<li><p>expr1 evaluates to the name of a region in the current global directory (or the global directory of an extended reference), producing an UNDEF error, or, in NOUNDEF mode, an empty string, if no such region exists</p></li>
<li><p>expr2 coerced to an intexpr is a PID.</p></li>
<li><p>The data in the node is a series of binary bytes which are the raw statistics shared by a process</p></li>
</ul>
</li>
<li><p>strexp specifies statistics to report with the same interpretation as the expr2 parameter of $$STAT^%YGBLSTAT.</p></li>
<li><p>$$SHOW^%YGBLSTAT() reports a zero value for any statistic whose name is unrecognized. This facilitates application code written for a version of YottaDB that includes a statistic, but which also needs to run on an earlier version without that statistic.</p></li>
<li><p>Because a process sharing statistics can exit, deleting its node, between the time a monitoring process decides to access its statistics, e.g., finding it using $$ORDERPID^%YGBLSTAT() or $ORDER(^%YGS()), and the time the monitoring process performs the database access, any direct access to ^%YGBLSTAT should be wrapped in $GET().</p></li>
<li><p>As raw statistics are binary data, processes in UTF-8 mode that gather and monitor statistics should use code with appropriate BADCHAR handling. Note that processes sharing statistics and processes gathering statistics for monitoring and reporting need not run in the same UTF-8/M mode. Statistics sharing by processes is identical in M and UTF-8 modes. YottaDB suggests that processes gathering statistics run in M mode</p></li>
</ul>
<p>YottaDB strongly recommends that except as documented here for sharing and gathering statistics, you not access statistics database files except under the direction of your YottaDB support channel.</p>
<p>As they do for unshared statistics, shared statistics reflect all database actions for a TP transaction, including those during RESTARTs. Because the sharing of statistics is not a database operation that modifies the relative time stamps that YottaDB uses to maintain serialized operation preserving the Consistency and Isolation aspects of ACID operation, statistics generated by a sharing process inside a transaction (TSTART/TCOMMIT) do not cause transaction restarts as a consequence of updates to shared statistics by other processes.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See also: ydb_statsdir (which specifies the directory for database files into which processes that have opted-in to sharing global statistics place their statistics as binary data) and ydb_statshare (which specifies an initial value for the characteristic controlled by VIEW “[NO]STATSHARE” in application code) in the <a class="reference external" href="../AdminOpsGuide/basicops.html#env-vars">Environment Variables</a> section of the documentation. VIEW “[NO]STATSHARE”[:&lt;region-list&gt;] enables or disables database statistics sharing for listed regions which permit such sharing, more information <a class="reference internal" href="commands.html#keywords-view-command"><span class="std std-ref">here</span></a>.</p>
</div>
</section>
</section>
<section id="utf-8-mode-utility-routines">
<h2><a class="toc-backref" href="utility.html#id55">UTF-8 Mode Utility Routines</a><a class="headerlink" href="utility.html#utf-8-mode-utility-routines" title="Permalink to this heading">¶</a></h2>
<p>The %UTF2HEX and %HEX2UTF M utility routines provide conversions between UTF-8 and hexadecimal code-point representations. Both these utilities run only in UTF-8 mode; in M mode, they both trigger a run-time error.</p>
<section id="utf2hex">
<span id="utf2hex-util"></span><h3><a class="toc-backref" href="utility.html#id56">%UTF2HEX</a><a class="headerlink" href="utility.html#utf2hex" title="Permalink to this heading">¶</a></h3>
<p>The YottaDB %UTF2HEX utility returns the hexadecimal notation of the internal byte encoding of a UTF-8 encoded YottaDB character string. This routine has entry points for both interactive and non-interactive use.</p>
<p>DO ^%UTF2HEX converts the string stored in %S to the hexadecimal byte notation and stores the result in %U.</p>
<p>DO INT^%UTF2HEX converts the interactively entered string to the hexadecimal byte notation and stores the result in %U.</p>
<p>$$FUNC^%UTF2HEX(s) returns the hexadecimal byte representation of the character string s.</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;write <span class="nv">$zchset</span>
UTF-8
YDB&gt;SET %S<span class="o">=</span><span class="nv">$CHAR</span><span class="o">(</span><span class="nv">$$</span>FUNC^%HD<span class="o">(</span><span class="s2">&quot;0905&quot;</span><span class="o">))</span>_<span class="nv">$CHAR</span><span class="o">(</span><span class="nv">$$</span>FUNC^%HD<span class="o">(</span><span class="s2">&quot;091A&quot;</span><span class="o">))</span>_<span class="nv">$CHAR</span><span class="o">(</span><span class="nv">$$</span>FUNC^%HD<span class="o">(</span><span class="s2">&quot;094D&quot;</span><span class="o">))</span>_<span class="nv">$CHAR</span><span class="o">(</span><span class="nv">$$</span>FUNC^%HD<span class="o">(</span><span class="s2">&quot;091B&quot;</span><span class="o">))</span>_<span class="nv">$CHAR</span><span class="o">(</span><span class="nv">$$</span>FUNC^%HD<span class="o">(</span><span class="s2">&quot;0940&quot;</span><span class="o">))</span>
YDB&gt;zwrite
%S<span class="o">=</span><span class="s2">&quot;अच्छी&quot;</span>
YDB&gt;DO ^%UTF2HEX
YDB&gt;zwrite
%S<span class="o">=</span><span class="s2">&quot;अच्छी&quot;</span>
%U<span class="o">=</span><span class="s2">&quot;E0A485E0A49AE0A58DE0A49BE0A580&quot;</span>
YDB&gt;write <span class="nv">$$</span>FUNC^%UTF2HEX<span class="o">(</span><span class="s2">&quot;ABC&quot;</span><span class="o">)</span>
<span class="m">414243</span>
YDB&gt;
</pre></div>
</div>
<p>Note that %UTF2HEX provides functionality similar to the UNIX binary dump utility (od -x).</p>
</section>
<section id="hex2utf">
<span id="hex2utf-util"></span><h3><a class="toc-backref" href="utility.html#id57">%HEX2UTF</a><a class="headerlink" href="utility.html#hex2utf" title="Permalink to this heading">¶</a></h3>
<p>The YottaDB %HEX2UTF utility returns the YottaDB encoded character string from the given bytestream in hexadecimal notation. This routine has entry points for both interactive and non-interactive use.</p>
<p>DO ^%HEX2UTF converts the hexadecimal byte stream stored in %U into a YottaDB character string and stores the result in %S.</p>
<p>DO INT^%HEX2UTF converts the interactively entered hexadecimal byte stream into a YottaDB character string and stores the result in %S.</p>
<p>$$FUNC^%HEX2UTF(s) returns the YottaDB character string specified by the hexadecimal character values in s (each character is specified by its Unicode code-point).</p>
<p>Example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>YDB&gt;set <span class="nv">u</span><span class="o">=</span><span class="s2">&quot;E0A485&quot;</span> write <span class="nv">$$</span>FUNC^%HEX2UTF<span class="o">(</span>u<span class="o">)</span>
अ
YDB&gt;set <span class="nv">u</span><span class="o">=</span><span class="s2">&quot;40E0A485&quot;</span> write <span class="nv">$$</span>FUNC^%HEX2UTF<span class="o">(</span>u<span class="o">)</span>
@अ
YDB&gt;
</pre></div>
</div>
</section>
</section>
<section id="utilities-summary-table">
<h2><a class="toc-backref" href="utility.html#id58">Utilities Summary Table</a><a class="headerlink" href="utility.html#utilities-summary-table" title="Permalink to this heading">¶</a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Utility Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="utility.html#d-util"><span class="std std-ref">%D</span></a></p></td>
<td><p>Displays the current date in [d]d-mmm-[yy]yy format.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#date-util"><span class="std std-ref">%DATE</span></a></p></td>
<td><p>Converts input date to $HOROLOG format.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="utility.html#dh-util"><span class="std std-ref">%DH</span></a></p></td>
<td><p>Converts decimal numbers to hexadecimal.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#do-util"><span class="std std-ref">%DO</span></a></p></td>
<td><p>Converts decimal numbers to octal.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="utility.html#exp-util"><span class="std std-ref">%EXP</span></a></p></td>
<td><p>Raises number to the power of another number.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#fl-util"><span class="std std-ref">%FL</span></a></p></td>
<td><p>Lists comment lines at the beginning of the source programs.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="utility.html#freecnt-util"><span class="std std-ref">%FREECNT</span></a></p></td>
<td><p>Displays the number of free blocks in the database files associated with the current global directory.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#g-util"><span class="std std-ref">%G</span></a></p></td>
<td><p>Displays global variables and their values.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="internatn.html#use-gbldef-util"><span class="std std-ref">Using the %GBLDEF Utility</span></a></p></td>
<td><p>Manipulates the collation sequence assigned to a global.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#gc-util"><span class="std std-ref">%GC</span></a></p></td>
<td><p>Copies a global or global sub-tree.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="utility.html#gce-util"><span class="std std-ref">%GCE</span></a></p></td>
<td><p>Replaces a specified value or part of a value in a set of global variables.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#gd-util"><span class="std std-ref">%GD</span></a></p></td>
<td><p>Displays existing globals in the current global directory without displaying their values or descendants.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="utility.html#ged-util"><span class="std std-ref">%GED</span></a></p></td>
<td><p>Provides full-screen editing capabilities for global variables and values.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#gi-util"><span class="std std-ref">%GI</span></a></p></td>
<td><p>Enters global variables and their values from a sequential file into a database.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="utility.html#go-util"><span class="std std-ref">%GO</span></a></p></td>
<td><p>Copies globals from the current database to a sequential output file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#gse-util"><span class="std std-ref">%GSE</span></a></p></td>
<td><p>Displays global variables and their values when the values contain a specified string or number.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="utility.html#gsel-util"><span class="std std-ref">%GSEL</span></a></p></td>
<td><p>Selects globals by name.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#h-util"><span class="std std-ref">%H</span></a></p></td>
<td><p>Converts date and time to and from $HOROLOG format.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="utility.html#hd-util"><span class="std std-ref">%HD</span></a></p></td>
<td><p>Converts hexadecimal numbers to decimal.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#hex2utf-util"><span class="std std-ref">%HEX2UTF</span></a></p></td>
<td><p>Converts the given bytestream in hexadecimal notation to YottaDB encoded character string.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="utility.html#ho-util"><span class="std std-ref">%HO</span></a></p></td>
<td><p>Converts hexadecimal numbers to octal.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#lcase-util"><span class="std std-ref">%LCASE</span></a></p></td>
<td><p>Converts a string to all lower case.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="internatn.html#establish-local-colln-seq"><span class="std std-ref">Establishing A Local Collation Sequence</span></a></p></td>
<td><p>Manipulates the collation sequence assigned to local variables.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#od-util"><span class="std std-ref">%OD</span></a></p></td>
<td><p>Converts octal numbers to decimal.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="utility.html#oh-util"><span class="std std-ref">%OH</span></a></p></td>
<td><p>Converts octal numbers to hexadecimal.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="internatn.html#pattern-code-defn"><span class="std std-ref">Pattern Code Definition</span></a></p></td>
<td><p>Loads pattern definition files for use within an active database.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="utility.html#rce-util"><span class="std std-ref">%RCE</span></a></p></td>
<td><p>Replaces every occurrence of a text string with another string in a routine or list of routines.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#rd-util"><span class="std std-ref">%RD</span></a></p></td>
<td><p>Lists routine names available through your $ZROUTINES search list.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="utility.html#ri-util"><span class="std std-ref">%RI</span></a></p></td>
<td><p>Transfers routines from ANSI sequential format into individual .m files in YottaDB format.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#ro-util"><span class="std std-ref">%RO</span></a></p></td>
<td><p>Writes M routines in ANSI transfer format.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="utility.html#rse-util"><span class="std std-ref">%RSE</span></a></p></td>
<td><p>Searches for every occurrence of a text string in a routine or a list of routines.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#rsel-util"><span class="std std-ref">%RSEL</span></a></p></td>
<td><p>Selects M routines and places their directories and names in a local array.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="utility.html#sqroot-util"><span class="std std-ref">%SQROOT</span></a></p></td>
<td><p>Calculates the square root of a number.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#t-util"><span class="std std-ref">%T</span></a></p></td>
<td><p>Displays the current time in [h]h:mm AM/PM format.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="utility.html#ti-util"><span class="std std-ref">%TI</span></a></p></td>
<td><p>Converts time to $HOROLOG format.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#to-util"><span class="std std-ref">%TO</span></a></p></td>
<td><p>Converts the current time from $HOROLOG format to [h]h:mm AM/PM format.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="utility.html#ucase-util"><span class="std std-ref">%UCASE</span></a></p></td>
<td><p>Converts a string to all upper case.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="utility.html#utf2hex-util"><span class="std std-ref">%UTF2HEX</span></a></p></td>
<td><p>Converts UTF-8 encoded YottaDB character string to bytestream in hexadecimal notation.</p></td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ioproc.html" class="btn btn-neutral float-left" title="9. Input/Output Processing" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="extrout.html" class="btn btn-neutral float-right" title="11. Integrating External Routines" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2021, YottaDB LLC.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
<hr/>
<!-- DDG search widget,@author Juri Wornowitski,@version 2.0,@link https://www.plainlight.com/ddg --><div id="widdget" style="width:100%;margin:10px 0;"><style type="text/css">#widdget input {display:block;height:30px;padding:4px;outline:none;border:1px solid #8d8d8d;border-right:0;box-sizing:border-box;border-radius:3px 0 0 3px;width:calc(100% - 41px);font-size:15px;} #widdget button {float:left;cursor:pointer;width:43px;height:30px;color:#fff;background-image:linear-gradient(#7f72ca,#554492);border:0;border-radius:0 3px 3px 0;} #widdget button:active {background-image:linear-gradient(#002387,#002357);} #widdget button:focus {outline:none;}</style><form style="position:relative" onsubmit="this.elements[0].click();return false;"><div style="float:right;position:absolute;top:0;right:-2px;z-index:3"><button type="button" onclick="var v=this.parentElement.parentElement.elements[1].value;window.open('https://duckduckgo.com?q='+encodeURIComponent(v)+'+site%3Adocs.yottadb.com&kj=p');">&#128269;</button></div><input type="text" name="que" placeholder="Search documents with DuckDuckGo" /></form></div>
 


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>